{"ast":null,"code":"import React, { useRef, useState, useCallback, useMemo, useEffect } from 'react';\nimport { EnableSelectionMinor, SortAscendingMajor, SortDescendingMajor } from '@shopify/polaris-icons';\nimport { CSSTransition } from 'react-transition-group';\nimport { toPx, tokens, motion } from '@shopify/polaris-tokens';\nimport { debounce } from '../../utilities/debounce.js';\nimport { useToggle } from '../../utilities/use-toggle.js';\nimport { classNames } from '../../utilities/css.js';\nimport styles from './IndexTable.scss.js';\nimport { IndexProvider } from '../IndexProvider/IndexProvider.js';\nimport { Cell } from './components/Cell/Cell.js';\nimport { Row } from './components/Row/Row.js';\nimport { SELECT_ALL_ITEMS, SelectionType } from '../../utilities/index-provider/types.js';\nimport { getTableHeadingsBySelector } from './utilities/utilities.js';\nimport { EmptySearchResult } from '../EmptySearchResult/EmptySearchResult.js';\nimport { ScrollContainer } from './components/ScrollContainer/ScrollContainer.js';\nimport { BulkActions } from '../BulkActions/BulkActions.js';\nimport { useIndexValue, useIndexSelectionChange } from '../../utilities/index-provider/hooks.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Stack } from '../Stack/Stack.js';\nimport { Checkbox } from '../Checkbox/Checkbox.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport { AfterInitialMount } from '../AfterInitialMount/AfterInitialMount.js';\nimport { EventListener } from '../EventListener/EventListener.js';\nimport { Badge } from '../Badge/Badge.js';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { UnstyledButton } from '../UnstyledButton/UnstyledButton.js';\nimport { Sticky } from '../Sticky/Sticky.js';\nimport { Button } from '../Button/Button.js';\nconst SCROLL_BAR_PADDING = 4;\nconst SCROLL_BAR_DEBOUNCE_PERIOD = 300;\n\nfunction IndexTableBase(_ref) {\n  let {\n    headings,\n    bulkActions = [],\n    promotedBulkActions = [],\n    children,\n    emptyState,\n    sort,\n    paginatedSelectAllActionText,\n    lastColumnSticky = false,\n    sortable,\n    sortDirection,\n    defaultSortDirection = 'descending',\n    sortColumnIndex,\n    onSort,\n    ...restProps\n  } = _ref;\n  const {\n    loading,\n    bulkSelectState,\n    resourceName,\n    bulkActionsAccessibilityLabel,\n    selectMode,\n    selectable = restProps.selectable,\n    paginatedSelectAllText,\n    itemCount,\n    hasMoreItems,\n    selectedItemsCount,\n    condensed\n  } = useIndexValue();\n  const handleSelectionChange = useIndexSelectionChange();\n  const i18n = useI18n();\n  const {\n    value: hasMoreLeftColumns,\n    toggle: toggleHasMoreLeftColumns\n  } = useToggle(false);\n  const tablePosition = useRef({\n    top: 0,\n    left: 0\n  });\n  const tableHeadingRects = useRef([]);\n  const scrollableContainerElement = useRef(null);\n  const tableElement = useRef(null);\n  const condensedListElement = useRef(null);\n  const [tableInitialized, setTableInitialized] = useState(false);\n  const [isSmallScreenSelectable, setIsSmallScreenSelectable] = useState(false);\n  const [stickyWrapper, setStickyWrapper] = useState(null);\n  const [hideScrollContainer, setHideScrollContainer] = useState(false);\n  const [smallScreen, setSmallScreen] = useState(isBreakpointsXS());\n  const tableHeadings = useRef([]);\n  const stickyTableHeadings = useRef([]);\n  const stickyHeaderWrapperElement = useRef(null);\n  const firstStickyHeaderElement = useRef(null);\n  const stickyHeaderElement = useRef(null);\n  const scrollBarElement = useRef(null);\n  const scrollContainerElement = useRef(null);\n  const scrollingWithBar = useRef(false);\n  const scrollingContainer = useRef(false);\n  const tableBodyRef = useCallback(node => {\n    if (node !== null && !tableInitialized) {\n      setTableInitialized(true);\n    }\n  }, [tableInitialized]);\n  const toggleIsSmallScreenSelectable = useCallback(() => {\n    setIsSmallScreenSelectable(value => !value);\n  }, []);\n  const handleSelectAllItemsInStore = useCallback(() => {\n    handleSelectionChange(selectedItemsCount === SELECT_ALL_ITEMS ? SelectionType.Page : SelectionType.All, true);\n  }, [handleSelectionChange, selectedItemsCount]);\n  const calculateFirstHeaderOffset = useCallback(() => {\n    if (!selectable) {\n      return tableHeadingRects.current[0].offsetWidth;\n    }\n\n    return condensed ? tableHeadingRects.current[0].offsetWidth : tableHeadingRects.current[0].offsetWidth + tableHeadingRects.current[1].offsetWidth;\n  }, [condensed, selectable]);\n  const resizeTableHeadings = useMemo(() => debounce(() => {\n    if (!tableElement.current || !scrollableContainerElement.current) {\n      return;\n    }\n\n    const boundingRect = scrollableContainerElement.current.getBoundingClientRect();\n    tablePosition.current = {\n      top: boundingRect.top,\n      left: boundingRect.left\n    };\n    tableHeadingRects.current = tableHeadings.current.map(heading => ({\n      offsetWidth: heading.offsetWidth || 0,\n      offsetLeft: heading.offsetLeft || 0\n    }));\n\n    if (tableHeadings.current.length === 0) {\n      return;\n    } // update left offset for first column\n\n\n    if (selectable && tableHeadings.current.length > 1) tableHeadings.current[1].style.left = `${tableHeadingRects.current[0].offsetWidth}px`; // update the min width of the checkbox to be the be the un-padded width of the first heading\n\n    if (selectable && firstStickyHeaderElement !== null && firstStickyHeaderElement !== void 0 && firstStickyHeaderElement.current) {\n      const elementStyle = getComputedStyle(tableHeadings.current[0]);\n      const boxWidth = tableHeadings.current[0].offsetWidth;\n      firstStickyHeaderElement.current.style.minWidth = `calc(${boxWidth}px - ${elementStyle.paddingLeft} - ${elementStyle.paddingRight} + 2px)`;\n    } // update sticky header min-widths\n\n\n    stickyTableHeadings.current.forEach((heading, index) => {\n      let minWidth = 0;\n\n      if (index === 0 && (!isBreakpointsXS() || !selectable)) {\n        minWidth = calculateFirstHeaderOffset();\n      } else if (selectable && tableHeadingRects.current.length > index) {\n        var _tableHeadingRects$cu;\n\n        minWidth = ((_tableHeadingRects$cu = tableHeadingRects.current[index]) === null || _tableHeadingRects$cu === void 0 ? void 0 : _tableHeadingRects$cu.offsetWidth) || 0;\n      } else if (!selectable && tableHeadingRects.current.length >= index) {\n        var _tableHeadingRects$cu2;\n\n        minWidth = ((_tableHeadingRects$cu2 = tableHeadingRects.current[index - 1]) === null || _tableHeadingRects$cu2 === void 0 ? void 0 : _tableHeadingRects$cu2.offsetWidth) || 0;\n      }\n\n      heading.style.minWidth = `${minWidth}px`;\n    });\n  }), [calculateFirstHeaderOffset, selectable]);\n  const resizeTableScrollBar = useCallback(() => {\n    if (scrollBarElement.current && tableElement.current && tableInitialized) {\n      var _scrollContainerEleme, _tableElement$current;\n\n      scrollBarElement.current.style.setProperty('--pc-index-table-scroll-bar-content-width', `${tableElement.current.offsetWidth - SCROLL_BAR_PADDING}px`);\n      setHideScrollContainer(((_scrollContainerEleme = scrollContainerElement.current) === null || _scrollContainerEleme === void 0 ? void 0 : _scrollContainerEleme.offsetWidth) === ((_tableElement$current = tableElement.current) === null || _tableElement$current === void 0 ? void 0 : _tableElement$current.offsetWidth));\n    }\n  }, [tableInitialized]); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  const debounceResizeTableScrollbar = useCallback(debounce(resizeTableScrollBar, SCROLL_BAR_DEBOUNCE_PERIOD, {\n    trailing: true\n  }), [resizeTableScrollBar]);\n  const [canScrollRight, setCanScrollRight] = useState(true); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  const handleCanScrollRight = useCallback(debounce(() => {\n    if (!lastColumnSticky || !tableElement.current || !scrollableContainerElement.current) {\n      return;\n    }\n\n    const tableRect = tableElement.current.getBoundingClientRect();\n    const scrollableRect = scrollableContainerElement.current.getBoundingClientRect();\n    setCanScrollRight(tableRect.width > scrollableRect.width);\n  }), [lastColumnSticky]);\n  useEffect(() => {\n    handleCanScrollRight();\n  }, [handleCanScrollRight]);\n  const handleIsSmallScreen = useCallback(() => {\n    setSmallScreen(smallScreen);\n  }, [smallScreen]);\n  const [canFitStickyColumn, setCanFitStickyColumn] = useState(true);\n  const handleCanFitStickyColumn = useCallback(() => {\n    if (!scrollableContainerElement.current || !tableHeadings.current.length) {\n      return;\n    }\n\n    const scrollableRect = scrollableContainerElement.current.getBoundingClientRect();\n    const checkboxColumnWidth = selectable ? tableHeadings.current[0].getBoundingClientRect().width : 0;\n    const firstStickyColumnWidth = tableHeadings.current[selectable ? 1 : 0].getBoundingClientRect().width;\n    const lastColumnIsNotTheFirst = selectable ? tableHeadings.current.length > 2 : 1; // Don't consider the last column in the calculations if it's not sticky\n\n    const lastStickyColumnWidth = lastColumnSticky && lastColumnIsNotTheFirst ? tableHeadings.current[tableHeadings.current.length - 1].getBoundingClientRect().width : 0; // Secure some space for the remaining columns to be visible\n\n    const restOfContentMinWidth = 100;\n    setCanFitStickyColumn(scrollableRect.width > firstStickyColumnWidth + checkboxColumnWidth + lastStickyColumnWidth + restOfContentMinWidth);\n  }, [lastColumnSticky, selectable]);\n  useEffect(() => {\n    if (tableInitialized) {\n      handleCanFitStickyColumn();\n    }\n  }, [handleCanFitStickyColumn, tableInitialized]);\n  const handleResize = useCallback(() => {\n    var _scrollBarElement$cur; // hide the scrollbar when resizing\n\n\n    (_scrollBarElement$cur = scrollBarElement.current) === null || _scrollBarElement$cur === void 0 ? void 0 : _scrollBarElement$cur.style.setProperty('--pc-index-table-scroll-bar-content-width', `0px`);\n    resizeTableHeadings();\n    debounceResizeTableScrollbar();\n    handleCanScrollRight();\n    handleIsSmallScreen();\n    handleCanFitStickyColumn();\n  }, [resizeTableHeadings, debounceResizeTableScrollbar, handleCanScrollRight, handleIsSmallScreen, handleCanFitStickyColumn]);\n  const handleScrollContainerScroll = useCallback((canScrollLeft, canScrollRight) => {\n    if (!scrollableContainerElement.current || !scrollBarElement.current) {\n      return;\n    }\n\n    if (!scrollingWithBar.current) {\n      scrollingContainer.current = true;\n      scrollBarElement.current.scrollLeft = scrollableContainerElement.current.scrollLeft;\n    }\n\n    scrollingWithBar.current = false;\n\n    if (stickyHeaderElement.current) {\n      stickyHeaderElement.current.scrollLeft = scrollableContainerElement.current.scrollLeft;\n    }\n\n    if (canScrollLeft && !hasMoreLeftColumns || !canScrollLeft && hasMoreLeftColumns) {\n      toggleHasMoreLeftColumns();\n    }\n\n    setCanScrollRight(canScrollRight);\n  }, [hasMoreLeftColumns, toggleHasMoreLeftColumns]);\n  const handleScrollBarScroll = useCallback(() => {\n    if (!scrollableContainerElement.current || !scrollBarElement.current) {\n      return;\n    }\n\n    if (!scrollingContainer.current) {\n      scrollingWithBar.current = true;\n      scrollableContainerElement.current.scrollLeft = scrollBarElement.current.scrollLeft;\n    }\n\n    scrollingContainer.current = false;\n  }, []);\n  useEffect(() => {\n    tableHeadings.current = getTableHeadingsBySelector(tableElement.current, '[data-index-table-heading]');\n    stickyTableHeadings.current = getTableHeadingsBySelector(stickyHeaderWrapperElement.current, '[data-index-table-sticky-heading]');\n    resizeTableHeadings();\n  }, [headings, resizeTableHeadings, firstStickyHeaderElement, tableInitialized]);\n  useEffect(() => {\n    resizeTableScrollBar();\n    setStickyWrapper(condensed ? condensedListElement.current : tableElement.current);\n  }, [tableInitialized, resizeTableScrollBar, condensed]);\n  useEffect(() => {\n    if (!condensed && isSmallScreenSelectable) {\n      setIsSmallScreenSelectable(false);\n    }\n  }, [condensed, isSmallScreenSelectable]);\n  const hasBulkActions = Boolean(promotedBulkActions && promotedBulkActions.length > 0 || bulkActions && bulkActions.length > 0);\n  const headingsMarkup = headings.map(renderHeading).reduce((acc, heading) => acc.concat(heading), []);\n  const bulkActionsSelectable = Boolean(promotedBulkActions.length > 0 || bulkActions.length > 0);\n  const stickyColumnHeaderStyle = tableHeadingRects.current && tableHeadingRects.current.length > 0 ? {\n    minWidth: calculateFirstHeaderOffset()\n  } : undefined;\n  const stickyColumnHeader = /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.TableHeading,\n    key: headings[0].title,\n    style: stickyColumnHeaderStyle,\n    \"data-index-table-sticky-heading\": true\n  }, /*#__PURE__*/React.createElement(Stack, {\n    spacing: \"none\",\n    wrap: false,\n    alignment: \"center\"\n  }, selectable && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.FirstStickyHeaderElement,\n    ref: firstStickyHeaderElement\n  }, renderCheckboxContent()), selectable && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['StickyTableHeading-second-scrolling']\n  }, renderHeadingContent(headings[0], 0)), !selectable && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.FirstStickyHeaderElement,\n    ref: firstStickyHeaderElement\n  }, renderHeadingContent(headings[0], 0))));\n  const stickyHeadingsMarkup = headings.map(renderStickyHeading);\n  const selectedItemsCountLabel = selectedItemsCount === SELECT_ALL_ITEMS ? `${itemCount}+` : selectedItemsCount;\n  const handleTogglePage = useCallback(() => {\n    handleSelectionChange(SelectionType.Page, Boolean(!bulkSelectState || bulkSelectState === 'indeterminate'));\n  }, [bulkSelectState, handleSelectionChange]);\n  const paginatedSelectAllAction = getPaginatedSelectAllAction();\n  const loadingTransitionClassNames = {\n    enter: styles['LoadingContainer-enter'],\n    enterActive: styles['LoadingContainer-enter-active'],\n    exit: styles['LoadingContainer-exit'],\n    exitActive: styles['LoadingContainer-exit-active']\n  };\n  const loadingMarkup = /*#__PURE__*/React.createElement(CSSTransition, {\n    in: loading,\n    classNames: loadingTransitionClassNames,\n    timeout: parseInt(motion['duration-100'], 10),\n    appear: true,\n    unmountOnExit: true\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.LoadingPanel\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.LoadingPanelRow\n  }, /*#__PURE__*/React.createElement(Spinner, {\n    size: \"small\"\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.LoadingPanelText\n  }, i18n.translate('Polaris.IndexTable.resourceLoadingAccessibilityLabel', {\n    resourceNamePlural: resourceName.plural.toLocaleLowerCase()\n  })))));\n  const stickyTableClassNames = classNames(styles.StickyTable, condensed && styles['StickyTable-condensed']);\n  const shouldShowBulkActions = bulkActionsSelectable && selectedItemsCount || isSmallScreenSelectable;\n  const stickyHeaderMarkup = /*#__PURE__*/React.createElement(\"div\", {\n    className: stickyTableClassNames,\n    role: \"presentation\"\n  }, /*#__PURE__*/React.createElement(Sticky, {\n    boundingElement: stickyWrapper\n  }, isSticky => {\n    const stickyHeaderClassNames = classNames(styles.StickyTableHeader, isSticky && styles['StickyTableHeader-isSticky']);\n    const bulkActionClassNames = classNames(styles.BulkActionsWrapper, condensed && styles['StickyTableHeader-condensed'], isSticky && styles['StickyTableHeader-isSticky']);\n    const shouldShowActions = !condensed || selectedItemsCount;\n    const promotedActions = shouldShowActions ? promotedBulkActions : [];\n    const actions = shouldShowActions ? bulkActions : [];\n    const bulkActionsMarkup = shouldShowBulkActions ? /*#__PURE__*/React.createElement(\"div\", {\n      className: bulkActionClassNames,\n      \"data-condensed\": condensed\n    }, loadingMarkup, /*#__PURE__*/React.createElement(BulkActions, {\n      smallScreen: smallScreen,\n      label: i18n.translate('Polaris.IndexTable.selected', {\n        selectedItemsCount: selectedItemsCountLabel\n      }),\n      accessibilityLabel: bulkActionsAccessibilityLabel,\n      selected: bulkSelectState,\n      selectMode: selectMode || isSmallScreenSelectable,\n      onToggleAll: handleTogglePage,\n      promotedActions: promotedActions,\n      actions: actions,\n      paginatedSelectAllText: paginatedSelectAllText,\n      paginatedSelectAllAction: paginatedSelectAllAction,\n      onSelectModeToggle: condensed ? handleSelectModeToggle : undefined\n    })) : null;\n    const stickyColumnHeaderClassNames = classNames(styles.StickyTableColumnHeader, hasMoreLeftColumns && styles['StickyTableColumnHeader-isScrolling']);\n    const selectButtonMarkup = /*#__PURE__*/React.createElement(Button, {\n      icon: EnableSelectionMinor,\n      onClick: toggleIsSmallScreenSelectable\n    }, i18n.translate('Polaris.IndexTable.selectButtonText'));\n    const headerMarkup = condensed ? /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(styles.HeaderWrapper, !selectable && styles.unselectable)\n    }, loadingMarkup, sort, selectable && selectButtonMarkup) : /*#__PURE__*/React.createElement(\"div\", {\n      className: stickyHeaderClassNames,\n      ref: stickyHeaderWrapperElement\n    }, loadingMarkup, /*#__PURE__*/React.createElement(\"div\", {\n      className: stickyColumnHeaderClassNames\n    }, stickyColumnHeader), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.StickyTableHeadings,\n      ref: stickyHeaderElement\n    }, stickyHeadingsMarkup));\n    const stickyContent = bulkActionsMarkup ? bulkActionsMarkup : headerMarkup;\n    return stickyContent;\n  }));\n  const scrollBarWrapperClassNames = classNames(styles.ScrollBarContainer, condensed && styles.scrollBarContainerCondensed, hideScrollContainer && styles.scrollBarContainerHidden);\n  const scrollBarClassNames = classNames(tableElement.current && tableInitialized && styles.ScrollBarContent);\n  const scrollBarMarkup = itemCount > 0 ? /*#__PURE__*/React.createElement(AfterInitialMount, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: scrollBarWrapperClassNames,\n    ref: scrollContainerElement\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onScroll: handleScrollBarScroll,\n    className: styles.ScrollBar,\n    ref: scrollBarElement\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: scrollBarClassNames\n  })))) : null;\n  const tableClassNames = classNames(styles.Table, hasMoreLeftColumns && styles['Table-scrolling'], selectMode && styles.disableTextSelection, selectMode && shouldShowBulkActions && styles.selectMode, !selectable && styles['Table-unselectable'], canFitStickyColumn && styles['Table-sticky'], canFitStickyColumn && lastColumnSticky && styles['Table-sticky-last'], canFitStickyColumn && lastColumnSticky && canScrollRight && styles['Table-sticky-scrolling']);\n  const emptyStateMarkup = emptyState ? emptyState : /*#__PURE__*/React.createElement(EmptySearchResult, {\n    title: i18n.translate('Polaris.IndexTable.emptySearchTitle', {\n      resourceNamePlural: resourceName.plural\n    }),\n    description: i18n.translate('Polaris.IndexTable.emptySearchDescription'),\n    withIllustration: true\n  });\n  const sharedMarkup = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EventListener, {\n    event: \"resize\",\n    handler: handleResize\n  }), /*#__PURE__*/React.createElement(AfterInitialMount, null, stickyHeaderMarkup));\n  const bodyMarkup = condensed ? /*#__PURE__*/React.createElement(React.Fragment, null, sharedMarkup, /*#__PURE__*/React.createElement(\"ul\", {\n    \"data-selectmode\": Boolean(selectMode || isSmallScreenSelectable),\n    className: styles.CondensedList,\n    ref: condensedListElement\n  }, children)) : /*#__PURE__*/React.createElement(React.Fragment, null, sharedMarkup, /*#__PURE__*/React.createElement(ScrollContainer, {\n    scrollableContainerRef: scrollableContainerElement,\n    onScroll: handleScrollContainerScroll\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    ref: tableElement,\n    className: tableClassNames\n  }, /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", {\n    className: styles.HeadingRow\n  }, headingsMarkup)), /*#__PURE__*/React.createElement(\"tbody\", {\n    ref: tableBodyRef\n  }, children))));\n  const tableContentMarkup = itemCount > 0 ? bodyMarkup : /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.EmptySearchResultWrapper\n  }, emptyStateMarkup);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.IndexTable\n  }, !shouldShowBulkActions && !condensed && loadingMarkup, tableContentMarkup), scrollBarMarkup);\n\n  function renderHeading(heading, index) {\n    const isSecond = index === 0;\n    const isLast = index === headings.length - 1;\n    const hasSortable = sortable === null || sortable === void 0 ? void 0 : sortable.some(value => value === true);\n    const headingContentClassName = classNames(styles.TableHeading, hasSortable && styles['TableHeading-sortable'], isSecond && styles['TableHeading-second'], isLast && !heading.hidden && styles['TableHeading-last'], !selectable && styles['TableHeading-unselectable'], heading.flush && styles['TableHeading-flush']);\n    const stickyPositioningStyle = selectable !== false && isSecond && tableHeadingRects.current && tableHeadingRects.current.length > 0 ? {\n      left: tableHeadingRects.current[0].offsetWidth\n    } : undefined;\n    const headingContent = /*#__PURE__*/React.createElement(\"th\", {\n      className: headingContentClassName,\n      key: heading.title,\n      \"data-index-table-heading\": true,\n      style: stickyPositioningStyle\n    }, renderHeadingContent(heading, index));\n\n    if (index !== 0 || !selectable) {\n      return headingContent;\n    }\n\n    const checkboxClassName = classNames(styles.TableHeading, hasSortable && styles['TableHeading-sortable'], index === 0 && styles['TableHeading-first']);\n    const checkboxContent = /*#__PURE__*/React.createElement(\"th\", {\n      className: checkboxClassName,\n      key: `${heading}-${index}`,\n      \"data-index-table-heading\": true\n    }, renderCheckboxContent());\n    return [checkboxContent, headingContent];\n  }\n\n  function renderCheckboxContent() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.ColumnHeaderCheckboxWrapper\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      label: i18n.translate('Polaris.IndexTable.selectAllLabel', {\n        resourceNamePlural: resourceName.plural\n      }),\n      labelHidden: true,\n      onChange: handleSelectPage,\n      checked: bulkSelectState\n    }));\n  }\n\n  function handleSortHeadingClick(index, direction) {\n    onSort === null || onSort === void 0 ? void 0 : onSort(index, direction);\n  }\n\n  function renderHeadingContent(heading, index) {\n    let headingContent;\n\n    if (heading.new) {\n      headingContent = /*#__PURE__*/React.createElement(Stack, {\n        wrap: false,\n        alignment: \"center\"\n      }, /*#__PURE__*/React.createElement(\"span\", null, heading.title), /*#__PURE__*/React.createElement(Badge, {\n        status: \"new\"\n      }, i18n.translate('Polaris.IndexTable.onboardingBadgeText')));\n    } else if (heading.hidden) {\n      headingContent = /*#__PURE__*/React.createElement(VisuallyHidden, null, heading.title);\n    } else {\n      headingContent = heading.title;\n    }\n\n    if (sortable !== null && sortable !== void 0 && sortable[index]) {\n      const isCurrentlySorted = index === sortColumnIndex;\n      const isAscending = sortDirection === 'ascending';\n      let newDirection = defaultSortDirection;\n      let source = defaultSortDirection === 'ascending' ? SortAscendingMajor : SortDescendingMajor;\n\n      if (isCurrentlySorted) {\n        newDirection = isAscending ? 'descending' : 'ascending';\n        source = sortDirection === 'ascending' ? SortAscendingMajor : SortDescendingMajor;\n      }\n\n      const sortAccessibilityLabel = i18n.translate('Polaris.IndexTable.sortAccessibilityLabel', {\n        direction: newDirection\n      });\n      const iconMarkup = /*#__PURE__*/React.createElement(\"span\", {\n        className: classNames(styles.TableHeadingSortIcon, isCurrentlySorted && styles['TableHeadingSortIcon-visible'])\n      }, /*#__PURE__*/React.createElement(Icon, {\n        source: source,\n        accessibilityLabel: sortAccessibilityLabel\n      }));\n      return /*#__PURE__*/React.createElement(UnstyledButton, {\n        onClick: () => handleSortHeadingClick(index, newDirection),\n        className: styles.TableHeadingSortButton\n      }, iconMarkup, headingContent);\n    }\n\n    return headingContent;\n  }\n\n  function handleSelectPage(checked) {\n    handleSelectionChange(SelectionType.Page, checked);\n  }\n\n  function renderStickyHeading(heading, index) {\n    const position = index + 1;\n    const headingStyle = tableHeadingRects.current && tableHeadingRects.current.length > position ? {\n      minWidth: tableHeadingRects.current[position].offsetWidth\n    } : undefined;\n    const headingContent = renderHeadingContent(heading, index);\n    const stickyHeadingClassName = classNames(styles.TableHeading, index === 0 && styles['StickyTableHeading-second'], index === 0 && !selectable && styles.unselectable);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: stickyHeadingClassName,\n      key: heading.title,\n      style: headingStyle,\n      \"data-index-table-sticky-heading\": true\n    }, headingContent);\n  }\n\n  function getPaginatedSelectAllAction() {\n    if (!selectable || !hasBulkActions || !hasMoreItems) {\n      return;\n    }\n\n    const customActionText = paginatedSelectAllActionText !== null && paginatedSelectAllActionText !== void 0 ? paginatedSelectAllActionText : i18n.translate('Polaris.IndexTable.selectAllItems', {\n      itemsLength: itemCount,\n      resourceNamePlural: resourceName.plural.toLocaleLowerCase()\n    });\n    const actionText = selectedItemsCount === SELECT_ALL_ITEMS ? i18n.translate('Polaris.IndexTable.undo') : customActionText;\n    return {\n      content: actionText,\n      onAction: handleSelectAllItemsInStore\n    };\n  }\n\n  function handleSelectModeToggle(val) {\n    handleSelectionChange(SelectionType.All, false);\n    setIsSmallScreenSelectable(val);\n  }\n}\n\nconst isBreakpointsXS = () => {\n  var _toPx;\n\n  return typeof window === 'undefined' ? false : window.innerWidth < parseFloat((_toPx = toPx(tokens.breakpoints['breakpoints-sm'])) !== null && _toPx !== void 0 ? _toPx : '');\n};\n\nfunction IndexTable(_ref2) {\n  let {\n    children,\n    selectable = true,\n    itemCount,\n    selectedItemsCount = 0,\n    resourceName: passedResourceName,\n    loading,\n    hasMoreItems,\n    condensed,\n    onSelectionChange,\n    ...indexTableBaseProps\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(IndexProvider, {\n    selectable: selectable,\n    itemCount: itemCount,\n    selectedItemsCount: selectedItemsCount,\n    resourceName: passedResourceName,\n    loading: loading,\n    hasMoreItems: hasMoreItems,\n    condensed: condensed,\n    onSelectionChange: onSelectionChange\n  }, /*#__PURE__*/React.createElement(IndexTableBase, indexTableBaseProps, children));\n}\n\nIndexTable.Cell = Cell;\nIndexTable.Row = Row;\nexport { IndexTable };","map":{"version":3,"names":["React","useRef","useState","useCallback","useMemo","useEffect","EnableSelectionMinor","SortAscendingMajor","SortDescendingMajor","CSSTransition","toPx","tokens","motion","debounce","useToggle","classNames","styles","IndexProvider","Cell","Row","SELECT_ALL_ITEMS","SelectionType","getTableHeadingsBySelector","EmptySearchResult","ScrollContainer","BulkActions","useIndexValue","useIndexSelectionChange","useI18n","Stack","Checkbox","Spinner","AfterInitialMount","EventListener","Badge","VisuallyHidden","Icon","UnstyledButton","Sticky","Button","SCROLL_BAR_PADDING","SCROLL_BAR_DEBOUNCE_PERIOD","IndexTableBase","headings","bulkActions","promotedBulkActions","children","emptyState","sort","paginatedSelectAllActionText","lastColumnSticky","sortable","sortDirection","defaultSortDirection","sortColumnIndex","onSort","restProps","loading","bulkSelectState","resourceName","bulkActionsAccessibilityLabel","selectMode","selectable","paginatedSelectAllText","itemCount","hasMoreItems","selectedItemsCount","condensed","handleSelectionChange","i18n","value","hasMoreLeftColumns","toggle","toggleHasMoreLeftColumns","tablePosition","top","left","tableHeadingRects","scrollableContainerElement","tableElement","condensedListElement","tableInitialized","setTableInitialized","isSmallScreenSelectable","setIsSmallScreenSelectable","stickyWrapper","setStickyWrapper","hideScrollContainer","setHideScrollContainer","smallScreen","setSmallScreen","isBreakpointsXS","tableHeadings","stickyTableHeadings","stickyHeaderWrapperElement","firstStickyHeaderElement","stickyHeaderElement","scrollBarElement","scrollContainerElement","scrollingWithBar","scrollingContainer","tableBodyRef","node","toggleIsSmallScreenSelectable","handleSelectAllItemsInStore","Page","All","calculateFirstHeaderOffset","current","offsetWidth","resizeTableHeadings","boundingRect","getBoundingClientRect","map","heading","offsetLeft","length","style","elementStyle","getComputedStyle","boxWidth","minWidth","paddingLeft","paddingRight","forEach","index","_tableHeadingRects$cu","_tableHeadingRects$cu2","resizeTableScrollBar","_scrollContainerEleme","_tableElement$current","setProperty","debounceResizeTableScrollbar","trailing","canScrollRight","setCanScrollRight","handleCanScrollRight","tableRect","scrollableRect","width","handleIsSmallScreen","canFitStickyColumn","setCanFitStickyColumn","handleCanFitStickyColumn","checkboxColumnWidth","firstStickyColumnWidth","lastColumnIsNotTheFirst","lastStickyColumnWidth","restOfContentMinWidth","handleResize","_scrollBarElement$cur","handleScrollContainerScroll","canScrollLeft","scrollLeft","handleScrollBarScroll","hasBulkActions","Boolean","headingsMarkup","renderHeading","reduce","acc","concat","bulkActionsSelectable","stickyColumnHeaderStyle","undefined","stickyColumnHeader","createElement","className","TableHeading","key","title","spacing","wrap","alignment","FirstStickyHeaderElement","ref","renderCheckboxContent","renderHeadingContent","stickyHeadingsMarkup","renderStickyHeading","selectedItemsCountLabel","handleTogglePage","paginatedSelectAllAction","getPaginatedSelectAllAction","loadingTransitionClassNames","enter","enterActive","exit","exitActive","loadingMarkup","in","timeout","parseInt","appear","unmountOnExit","LoadingPanel","LoadingPanelRow","size","LoadingPanelText","translate","resourceNamePlural","plural","toLocaleLowerCase","stickyTableClassNames","StickyTable","shouldShowBulkActions","stickyHeaderMarkup","role","boundingElement","isSticky","stickyHeaderClassNames","StickyTableHeader","bulkActionClassNames","BulkActionsWrapper","shouldShowActions","promotedActions","actions","bulkActionsMarkup","label","accessibilityLabel","selected","onToggleAll","onSelectModeToggle","handleSelectModeToggle","stickyColumnHeaderClassNames","StickyTableColumnHeader","selectButtonMarkup","icon","onClick","headerMarkup","HeaderWrapper","unselectable","StickyTableHeadings","stickyContent","scrollBarWrapperClassNames","ScrollBarContainer","scrollBarContainerCondensed","scrollBarContainerHidden","scrollBarClassNames","ScrollBarContent","scrollBarMarkup","onScroll","ScrollBar","tableClassNames","Table","disableTextSelection","emptyStateMarkup","description","withIllustration","sharedMarkup","Fragment","event","handler","bodyMarkup","CondensedList","scrollableContainerRef","HeadingRow","tableContentMarkup","EmptySearchResultWrapper","IndexTable","isSecond","isLast","hasSortable","some","headingContentClassName","hidden","flush","stickyPositioningStyle","headingContent","checkboxClassName","checkboxContent","ColumnHeaderCheckboxWrapper","labelHidden","onChange","handleSelectPage","checked","handleSortHeadingClick","direction","new","status","isCurrentlySorted","isAscending","newDirection","source","sortAccessibilityLabel","iconMarkup","TableHeadingSortIcon","TableHeadingSortButton","position","headingStyle","stickyHeadingClassName","customActionText","itemsLength","actionText","content","onAction","val","_toPx","window","innerWidth","parseFloat","breakpoints","passedResourceName","onSelectionChange","indexTableBaseProps"],"sources":["/home/cedcoss/react/After interview/polarisdashoboard/node_modules/@shopify/polaris/build/esm/components/IndexTable/IndexTable.js"],"sourcesContent":["import React, { useRef, useState, useCallback, useMemo, useEffect } from 'react';\nimport { EnableSelectionMinor, SortAscendingMajor, SortDescendingMajor } from '@shopify/polaris-icons';\nimport { CSSTransition } from 'react-transition-group';\nimport { toPx, tokens, motion } from '@shopify/polaris-tokens';\nimport { debounce } from '../../utilities/debounce.js';\nimport { useToggle } from '../../utilities/use-toggle.js';\nimport { classNames } from '../../utilities/css.js';\nimport styles from './IndexTable.scss.js';\nimport { IndexProvider } from '../IndexProvider/IndexProvider.js';\nimport { Cell } from './components/Cell/Cell.js';\nimport { Row } from './components/Row/Row.js';\nimport { SELECT_ALL_ITEMS, SelectionType } from '../../utilities/index-provider/types.js';\nimport { getTableHeadingsBySelector } from './utilities/utilities.js';\nimport { EmptySearchResult } from '../EmptySearchResult/EmptySearchResult.js';\nimport { ScrollContainer } from './components/ScrollContainer/ScrollContainer.js';\nimport { BulkActions } from '../BulkActions/BulkActions.js';\nimport { useIndexValue, useIndexSelectionChange } from '../../utilities/index-provider/hooks.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Stack } from '../Stack/Stack.js';\nimport { Checkbox } from '../Checkbox/Checkbox.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport { AfterInitialMount } from '../AfterInitialMount/AfterInitialMount.js';\nimport { EventListener } from '../EventListener/EventListener.js';\nimport { Badge } from '../Badge/Badge.js';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { UnstyledButton } from '../UnstyledButton/UnstyledButton.js';\nimport { Sticky } from '../Sticky/Sticky.js';\nimport { Button } from '../Button/Button.js';\n\nconst SCROLL_BAR_PADDING = 4;\nconst SCROLL_BAR_DEBOUNCE_PERIOD = 300;\n\nfunction IndexTableBase({\n  headings,\n  bulkActions = [],\n  promotedBulkActions = [],\n  children,\n  emptyState,\n  sort,\n  paginatedSelectAllActionText,\n  lastColumnSticky = false,\n  sortable,\n  sortDirection,\n  defaultSortDirection = 'descending',\n  sortColumnIndex,\n  onSort,\n  ...restProps\n}) {\n  const {\n    loading,\n    bulkSelectState,\n    resourceName,\n    bulkActionsAccessibilityLabel,\n    selectMode,\n    selectable = restProps.selectable,\n    paginatedSelectAllText,\n    itemCount,\n    hasMoreItems,\n    selectedItemsCount,\n    condensed\n  } = useIndexValue();\n  const handleSelectionChange = useIndexSelectionChange();\n  const i18n = useI18n();\n  const {\n    value: hasMoreLeftColumns,\n    toggle: toggleHasMoreLeftColumns\n  } = useToggle(false);\n  const tablePosition = useRef({\n    top: 0,\n    left: 0\n  });\n  const tableHeadingRects = useRef([]);\n  const scrollableContainerElement = useRef(null);\n  const tableElement = useRef(null);\n  const condensedListElement = useRef(null);\n  const [tableInitialized, setTableInitialized] = useState(false);\n  const [isSmallScreenSelectable, setIsSmallScreenSelectable] = useState(false);\n  const [stickyWrapper, setStickyWrapper] = useState(null);\n  const [hideScrollContainer, setHideScrollContainer] = useState(false);\n  const [smallScreen, setSmallScreen] = useState(isBreakpointsXS());\n  const tableHeadings = useRef([]);\n  const stickyTableHeadings = useRef([]);\n  const stickyHeaderWrapperElement = useRef(null);\n  const firstStickyHeaderElement = useRef(null);\n  const stickyHeaderElement = useRef(null);\n  const scrollBarElement = useRef(null);\n  const scrollContainerElement = useRef(null);\n  const scrollingWithBar = useRef(false);\n  const scrollingContainer = useRef(false);\n  const tableBodyRef = useCallback(node => {\n    if (node !== null && !tableInitialized) {\n      setTableInitialized(true);\n    }\n  }, [tableInitialized]);\n  const toggleIsSmallScreenSelectable = useCallback(() => {\n    setIsSmallScreenSelectable(value => !value);\n  }, []);\n  const handleSelectAllItemsInStore = useCallback(() => {\n    handleSelectionChange(selectedItemsCount === SELECT_ALL_ITEMS ? SelectionType.Page : SelectionType.All, true);\n  }, [handleSelectionChange, selectedItemsCount]);\n  const calculateFirstHeaderOffset = useCallback(() => {\n    if (!selectable) {\n      return tableHeadingRects.current[0].offsetWidth;\n    }\n\n    return condensed ? tableHeadingRects.current[0].offsetWidth : tableHeadingRects.current[0].offsetWidth + tableHeadingRects.current[1].offsetWidth;\n  }, [condensed, selectable]);\n  const resizeTableHeadings = useMemo(() => debounce(() => {\n    if (!tableElement.current || !scrollableContainerElement.current) {\n      return;\n    }\n\n    const boundingRect = scrollableContainerElement.current.getBoundingClientRect();\n    tablePosition.current = {\n      top: boundingRect.top,\n      left: boundingRect.left\n    };\n    tableHeadingRects.current = tableHeadings.current.map(heading => ({\n      offsetWidth: heading.offsetWidth || 0,\n      offsetLeft: heading.offsetLeft || 0\n    }));\n\n    if (tableHeadings.current.length === 0) {\n      return;\n    } // update left offset for first column\n\n\n    if (selectable && tableHeadings.current.length > 1) tableHeadings.current[1].style.left = `${tableHeadingRects.current[0].offsetWidth}px`; // update the min width of the checkbox to be the be the un-padded width of the first heading\n\n    if (selectable && firstStickyHeaderElement !== null && firstStickyHeaderElement !== void 0 && firstStickyHeaderElement.current) {\n      const elementStyle = getComputedStyle(tableHeadings.current[0]);\n      const boxWidth = tableHeadings.current[0].offsetWidth;\n      firstStickyHeaderElement.current.style.minWidth = `calc(${boxWidth}px - ${elementStyle.paddingLeft} - ${elementStyle.paddingRight} + 2px)`;\n    } // update sticky header min-widths\n\n\n    stickyTableHeadings.current.forEach((heading, index) => {\n      let minWidth = 0;\n\n      if (index === 0 && (!isBreakpointsXS() || !selectable)) {\n        minWidth = calculateFirstHeaderOffset();\n      } else if (selectable && tableHeadingRects.current.length > index) {\n        var _tableHeadingRects$cu;\n\n        minWidth = ((_tableHeadingRects$cu = tableHeadingRects.current[index]) === null || _tableHeadingRects$cu === void 0 ? void 0 : _tableHeadingRects$cu.offsetWidth) || 0;\n      } else if (!selectable && tableHeadingRects.current.length >= index) {\n        var _tableHeadingRects$cu2;\n\n        minWidth = ((_tableHeadingRects$cu2 = tableHeadingRects.current[index - 1]) === null || _tableHeadingRects$cu2 === void 0 ? void 0 : _tableHeadingRects$cu2.offsetWidth) || 0;\n      }\n\n      heading.style.minWidth = `${minWidth}px`;\n    });\n  }), [calculateFirstHeaderOffset, selectable]);\n  const resizeTableScrollBar = useCallback(() => {\n    if (scrollBarElement.current && tableElement.current && tableInitialized) {\n      var _scrollContainerEleme, _tableElement$current;\n\n      scrollBarElement.current.style.setProperty('--pc-index-table-scroll-bar-content-width', `${tableElement.current.offsetWidth - SCROLL_BAR_PADDING}px`);\n      setHideScrollContainer(((_scrollContainerEleme = scrollContainerElement.current) === null || _scrollContainerEleme === void 0 ? void 0 : _scrollContainerEleme.offsetWidth) === ((_tableElement$current = tableElement.current) === null || _tableElement$current === void 0 ? void 0 : _tableElement$current.offsetWidth));\n    }\n  }, [tableInitialized]); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  const debounceResizeTableScrollbar = useCallback(debounce(resizeTableScrollBar, SCROLL_BAR_DEBOUNCE_PERIOD, {\n    trailing: true\n  }), [resizeTableScrollBar]);\n  const [canScrollRight, setCanScrollRight] = useState(true); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  const handleCanScrollRight = useCallback(debounce(() => {\n    if (!lastColumnSticky || !tableElement.current || !scrollableContainerElement.current) {\n      return;\n    }\n\n    const tableRect = tableElement.current.getBoundingClientRect();\n    const scrollableRect = scrollableContainerElement.current.getBoundingClientRect();\n    setCanScrollRight(tableRect.width > scrollableRect.width);\n  }), [lastColumnSticky]);\n  useEffect(() => {\n    handleCanScrollRight();\n  }, [handleCanScrollRight]);\n  const handleIsSmallScreen = useCallback(() => {\n    setSmallScreen(smallScreen);\n  }, [smallScreen]);\n  const [canFitStickyColumn, setCanFitStickyColumn] = useState(true);\n  const handleCanFitStickyColumn = useCallback(() => {\n    if (!scrollableContainerElement.current || !tableHeadings.current.length) {\n      return;\n    }\n\n    const scrollableRect = scrollableContainerElement.current.getBoundingClientRect();\n    const checkboxColumnWidth = selectable ? tableHeadings.current[0].getBoundingClientRect().width : 0;\n    const firstStickyColumnWidth = tableHeadings.current[selectable ? 1 : 0].getBoundingClientRect().width;\n    const lastColumnIsNotTheFirst = selectable ? tableHeadings.current.length > 2 : 1; // Don't consider the last column in the calculations if it's not sticky\n\n    const lastStickyColumnWidth = lastColumnSticky && lastColumnIsNotTheFirst ? tableHeadings.current[tableHeadings.current.length - 1].getBoundingClientRect().width : 0; // Secure some space for the remaining columns to be visible\n\n    const restOfContentMinWidth = 100;\n    setCanFitStickyColumn(scrollableRect.width > firstStickyColumnWidth + checkboxColumnWidth + lastStickyColumnWidth + restOfContentMinWidth);\n  }, [lastColumnSticky, selectable]);\n  useEffect(() => {\n    if (tableInitialized) {\n      handleCanFitStickyColumn();\n    }\n  }, [handleCanFitStickyColumn, tableInitialized]);\n  const handleResize = useCallback(() => {\n    var _scrollBarElement$cur;\n\n    // hide the scrollbar when resizing\n    (_scrollBarElement$cur = scrollBarElement.current) === null || _scrollBarElement$cur === void 0 ? void 0 : _scrollBarElement$cur.style.setProperty('--pc-index-table-scroll-bar-content-width', `0px`);\n    resizeTableHeadings();\n    debounceResizeTableScrollbar();\n    handleCanScrollRight();\n    handleIsSmallScreen();\n    handleCanFitStickyColumn();\n  }, [resizeTableHeadings, debounceResizeTableScrollbar, handleCanScrollRight, handleIsSmallScreen, handleCanFitStickyColumn]);\n  const handleScrollContainerScroll = useCallback((canScrollLeft, canScrollRight) => {\n    if (!scrollableContainerElement.current || !scrollBarElement.current) {\n      return;\n    }\n\n    if (!scrollingWithBar.current) {\n      scrollingContainer.current = true;\n      scrollBarElement.current.scrollLeft = scrollableContainerElement.current.scrollLeft;\n    }\n\n    scrollingWithBar.current = false;\n\n    if (stickyHeaderElement.current) {\n      stickyHeaderElement.current.scrollLeft = scrollableContainerElement.current.scrollLeft;\n    }\n\n    if (canScrollLeft && !hasMoreLeftColumns || !canScrollLeft && hasMoreLeftColumns) {\n      toggleHasMoreLeftColumns();\n    }\n\n    setCanScrollRight(canScrollRight);\n  }, [hasMoreLeftColumns, toggleHasMoreLeftColumns]);\n  const handleScrollBarScroll = useCallback(() => {\n    if (!scrollableContainerElement.current || !scrollBarElement.current) {\n      return;\n    }\n\n    if (!scrollingContainer.current) {\n      scrollingWithBar.current = true;\n      scrollableContainerElement.current.scrollLeft = scrollBarElement.current.scrollLeft;\n    }\n\n    scrollingContainer.current = false;\n  }, []);\n  useEffect(() => {\n    tableHeadings.current = getTableHeadingsBySelector(tableElement.current, '[data-index-table-heading]');\n    stickyTableHeadings.current = getTableHeadingsBySelector(stickyHeaderWrapperElement.current, '[data-index-table-sticky-heading]');\n    resizeTableHeadings();\n  }, [headings, resizeTableHeadings, firstStickyHeaderElement, tableInitialized]);\n  useEffect(() => {\n    resizeTableScrollBar();\n    setStickyWrapper(condensed ? condensedListElement.current : tableElement.current);\n  }, [tableInitialized, resizeTableScrollBar, condensed]);\n  useEffect(() => {\n    if (!condensed && isSmallScreenSelectable) {\n      setIsSmallScreenSelectable(false);\n    }\n  }, [condensed, isSmallScreenSelectable]);\n  const hasBulkActions = Boolean(promotedBulkActions && promotedBulkActions.length > 0 || bulkActions && bulkActions.length > 0);\n  const headingsMarkup = headings.map(renderHeading).reduce((acc, heading) => acc.concat(heading), []);\n  const bulkActionsSelectable = Boolean(promotedBulkActions.length > 0 || bulkActions.length > 0);\n  const stickyColumnHeaderStyle = tableHeadingRects.current && tableHeadingRects.current.length > 0 ? {\n    minWidth: calculateFirstHeaderOffset()\n  } : undefined;\n  const stickyColumnHeader = /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.TableHeading,\n    key: headings[0].title,\n    style: stickyColumnHeaderStyle,\n    \"data-index-table-sticky-heading\": true\n  }, /*#__PURE__*/React.createElement(Stack, {\n    spacing: \"none\",\n    wrap: false,\n    alignment: \"center\"\n  }, selectable && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.FirstStickyHeaderElement,\n    ref: firstStickyHeaderElement\n  }, renderCheckboxContent()), selectable && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['StickyTableHeading-second-scrolling']\n  }, renderHeadingContent(headings[0], 0)), !selectable && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.FirstStickyHeaderElement,\n    ref: firstStickyHeaderElement\n  }, renderHeadingContent(headings[0], 0))));\n  const stickyHeadingsMarkup = headings.map(renderStickyHeading);\n  const selectedItemsCountLabel = selectedItemsCount === SELECT_ALL_ITEMS ? `${itemCount}+` : selectedItemsCount;\n  const handleTogglePage = useCallback(() => {\n    handleSelectionChange(SelectionType.Page, Boolean(!bulkSelectState || bulkSelectState === 'indeterminate'));\n  }, [bulkSelectState, handleSelectionChange]);\n  const paginatedSelectAllAction = getPaginatedSelectAllAction();\n  const loadingTransitionClassNames = {\n    enter: styles['LoadingContainer-enter'],\n    enterActive: styles['LoadingContainer-enter-active'],\n    exit: styles['LoadingContainer-exit'],\n    exitActive: styles['LoadingContainer-exit-active']\n  };\n  const loadingMarkup = /*#__PURE__*/React.createElement(CSSTransition, {\n    in: loading,\n    classNames: loadingTransitionClassNames,\n    timeout: parseInt(motion['duration-100'], 10),\n    appear: true,\n    unmountOnExit: true\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.LoadingPanel\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.LoadingPanelRow\n  }, /*#__PURE__*/React.createElement(Spinner, {\n    size: \"small\"\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.LoadingPanelText\n  }, i18n.translate('Polaris.IndexTable.resourceLoadingAccessibilityLabel', {\n    resourceNamePlural: resourceName.plural.toLocaleLowerCase()\n  })))));\n  const stickyTableClassNames = classNames(styles.StickyTable, condensed && styles['StickyTable-condensed']);\n  const shouldShowBulkActions = bulkActionsSelectable && selectedItemsCount || isSmallScreenSelectable;\n  const stickyHeaderMarkup = /*#__PURE__*/React.createElement(\"div\", {\n    className: stickyTableClassNames,\n    role: \"presentation\"\n  }, /*#__PURE__*/React.createElement(Sticky, {\n    boundingElement: stickyWrapper\n  }, isSticky => {\n    const stickyHeaderClassNames = classNames(styles.StickyTableHeader, isSticky && styles['StickyTableHeader-isSticky']);\n    const bulkActionClassNames = classNames(styles.BulkActionsWrapper, condensed && styles['StickyTableHeader-condensed'], isSticky && styles['StickyTableHeader-isSticky']);\n    const shouldShowActions = !condensed || selectedItemsCount;\n    const promotedActions = shouldShowActions ? promotedBulkActions : [];\n    const actions = shouldShowActions ? bulkActions : [];\n    const bulkActionsMarkup = shouldShowBulkActions ? /*#__PURE__*/React.createElement(\"div\", {\n      className: bulkActionClassNames,\n      \"data-condensed\": condensed\n    }, loadingMarkup, /*#__PURE__*/React.createElement(BulkActions, {\n      smallScreen: smallScreen,\n      label: i18n.translate('Polaris.IndexTable.selected', {\n        selectedItemsCount: selectedItemsCountLabel\n      }),\n      accessibilityLabel: bulkActionsAccessibilityLabel,\n      selected: bulkSelectState,\n      selectMode: selectMode || isSmallScreenSelectable,\n      onToggleAll: handleTogglePage,\n      promotedActions: promotedActions,\n      actions: actions,\n      paginatedSelectAllText: paginatedSelectAllText,\n      paginatedSelectAllAction: paginatedSelectAllAction,\n      onSelectModeToggle: condensed ? handleSelectModeToggle : undefined\n    })) : null;\n    const stickyColumnHeaderClassNames = classNames(styles.StickyTableColumnHeader, hasMoreLeftColumns && styles['StickyTableColumnHeader-isScrolling']);\n    const selectButtonMarkup = /*#__PURE__*/React.createElement(Button, {\n      icon: EnableSelectionMinor,\n      onClick: toggleIsSmallScreenSelectable\n    }, i18n.translate('Polaris.IndexTable.selectButtonText'));\n    const headerMarkup = condensed ? /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(styles.HeaderWrapper, !selectable && styles.unselectable)\n    }, loadingMarkup, sort, selectable && selectButtonMarkup) : /*#__PURE__*/React.createElement(\"div\", {\n      className: stickyHeaderClassNames,\n      ref: stickyHeaderWrapperElement\n    }, loadingMarkup, /*#__PURE__*/React.createElement(\"div\", {\n      className: stickyColumnHeaderClassNames\n    }, stickyColumnHeader), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.StickyTableHeadings,\n      ref: stickyHeaderElement\n    }, stickyHeadingsMarkup));\n    const stickyContent = bulkActionsMarkup ? bulkActionsMarkup : headerMarkup;\n    return stickyContent;\n  }));\n  const scrollBarWrapperClassNames = classNames(styles.ScrollBarContainer, condensed && styles.scrollBarContainerCondensed, hideScrollContainer && styles.scrollBarContainerHidden);\n  const scrollBarClassNames = classNames(tableElement.current && tableInitialized && styles.ScrollBarContent);\n  const scrollBarMarkup = itemCount > 0 ? /*#__PURE__*/React.createElement(AfterInitialMount, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: scrollBarWrapperClassNames,\n    ref: scrollContainerElement\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onScroll: handleScrollBarScroll,\n    className: styles.ScrollBar,\n    ref: scrollBarElement\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: scrollBarClassNames\n  })))) : null;\n  const tableClassNames = classNames(styles.Table, hasMoreLeftColumns && styles['Table-scrolling'], selectMode && styles.disableTextSelection, selectMode && shouldShowBulkActions && styles.selectMode, !selectable && styles['Table-unselectable'], canFitStickyColumn && styles['Table-sticky'], canFitStickyColumn && lastColumnSticky && styles['Table-sticky-last'], canFitStickyColumn && lastColumnSticky && canScrollRight && styles['Table-sticky-scrolling']);\n  const emptyStateMarkup = emptyState ? emptyState : /*#__PURE__*/React.createElement(EmptySearchResult, {\n    title: i18n.translate('Polaris.IndexTable.emptySearchTitle', {\n      resourceNamePlural: resourceName.plural\n    }),\n    description: i18n.translate('Polaris.IndexTable.emptySearchDescription'),\n    withIllustration: true\n  });\n  const sharedMarkup = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EventListener, {\n    event: \"resize\",\n    handler: handleResize\n  }), /*#__PURE__*/React.createElement(AfterInitialMount, null, stickyHeaderMarkup));\n  const bodyMarkup = condensed ? /*#__PURE__*/React.createElement(React.Fragment, null, sharedMarkup, /*#__PURE__*/React.createElement(\"ul\", {\n    \"data-selectmode\": Boolean(selectMode || isSmallScreenSelectable),\n    className: styles.CondensedList,\n    ref: condensedListElement\n  }, children)) : /*#__PURE__*/React.createElement(React.Fragment, null, sharedMarkup, /*#__PURE__*/React.createElement(ScrollContainer, {\n    scrollableContainerRef: scrollableContainerElement,\n    onScroll: handleScrollContainerScroll\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    ref: tableElement,\n    className: tableClassNames\n  }, /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", {\n    className: styles.HeadingRow\n  }, headingsMarkup)), /*#__PURE__*/React.createElement(\"tbody\", {\n    ref: tableBodyRef\n  }, children))));\n  const tableContentMarkup = itemCount > 0 ? bodyMarkup : /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.EmptySearchResultWrapper\n  }, emptyStateMarkup);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.IndexTable\n  }, !shouldShowBulkActions && !condensed && loadingMarkup, tableContentMarkup), scrollBarMarkup);\n\n  function renderHeading(heading, index) {\n    const isSecond = index === 0;\n    const isLast = index === headings.length - 1;\n    const hasSortable = sortable === null || sortable === void 0 ? void 0 : sortable.some(value => value === true);\n    const headingContentClassName = classNames(styles.TableHeading, hasSortable && styles['TableHeading-sortable'], isSecond && styles['TableHeading-second'], isLast && !heading.hidden && styles['TableHeading-last'], !selectable && styles['TableHeading-unselectable'], heading.flush && styles['TableHeading-flush']);\n    const stickyPositioningStyle = selectable !== false && isSecond && tableHeadingRects.current && tableHeadingRects.current.length > 0 ? {\n      left: tableHeadingRects.current[0].offsetWidth\n    } : undefined;\n    const headingContent = /*#__PURE__*/React.createElement(\"th\", {\n      className: headingContentClassName,\n      key: heading.title,\n      \"data-index-table-heading\": true,\n      style: stickyPositioningStyle\n    }, renderHeadingContent(heading, index));\n\n    if (index !== 0 || !selectable) {\n      return headingContent;\n    }\n\n    const checkboxClassName = classNames(styles.TableHeading, hasSortable && styles['TableHeading-sortable'], index === 0 && styles['TableHeading-first']);\n    const checkboxContent = /*#__PURE__*/React.createElement(\"th\", {\n      className: checkboxClassName,\n      key: `${heading}-${index}`,\n      \"data-index-table-heading\": true\n    }, renderCheckboxContent());\n    return [checkboxContent, headingContent];\n  }\n\n  function renderCheckboxContent() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.ColumnHeaderCheckboxWrapper\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      label: i18n.translate('Polaris.IndexTable.selectAllLabel', {\n        resourceNamePlural: resourceName.plural\n      }),\n      labelHidden: true,\n      onChange: handleSelectPage,\n      checked: bulkSelectState\n    }));\n  }\n\n  function handleSortHeadingClick(index, direction) {\n    onSort === null || onSort === void 0 ? void 0 : onSort(index, direction);\n  }\n\n  function renderHeadingContent(heading, index) {\n    let headingContent;\n\n    if (heading.new) {\n      headingContent = /*#__PURE__*/React.createElement(Stack, {\n        wrap: false,\n        alignment: \"center\"\n      }, /*#__PURE__*/React.createElement(\"span\", null, heading.title), /*#__PURE__*/React.createElement(Badge, {\n        status: \"new\"\n      }, i18n.translate('Polaris.IndexTable.onboardingBadgeText')));\n    } else if (heading.hidden) {\n      headingContent = /*#__PURE__*/React.createElement(VisuallyHidden, null, heading.title);\n    } else {\n      headingContent = heading.title;\n    }\n\n    if (sortable !== null && sortable !== void 0 && sortable[index]) {\n      const isCurrentlySorted = index === sortColumnIndex;\n      const isAscending = sortDirection === 'ascending';\n      let newDirection = defaultSortDirection;\n      let source = defaultSortDirection === 'ascending' ? SortAscendingMajor : SortDescendingMajor;\n\n      if (isCurrentlySorted) {\n        newDirection = isAscending ? 'descending' : 'ascending';\n        source = sortDirection === 'ascending' ? SortAscendingMajor : SortDescendingMajor;\n      }\n\n      const sortAccessibilityLabel = i18n.translate('Polaris.IndexTable.sortAccessibilityLabel', {\n        direction: newDirection\n      });\n      const iconMarkup = /*#__PURE__*/React.createElement(\"span\", {\n        className: classNames(styles.TableHeadingSortIcon, isCurrentlySorted && styles['TableHeadingSortIcon-visible'])\n      }, /*#__PURE__*/React.createElement(Icon, {\n        source: source,\n        accessibilityLabel: sortAccessibilityLabel\n      }));\n      return /*#__PURE__*/React.createElement(UnstyledButton, {\n        onClick: () => handleSortHeadingClick(index, newDirection),\n        className: styles.TableHeadingSortButton\n      }, iconMarkup, headingContent);\n    }\n\n    return headingContent;\n  }\n\n  function handleSelectPage(checked) {\n    handleSelectionChange(SelectionType.Page, checked);\n  }\n\n  function renderStickyHeading(heading, index) {\n    const position = index + 1;\n    const headingStyle = tableHeadingRects.current && tableHeadingRects.current.length > position ? {\n      minWidth: tableHeadingRects.current[position].offsetWidth\n    } : undefined;\n    const headingContent = renderHeadingContent(heading, index);\n    const stickyHeadingClassName = classNames(styles.TableHeading, index === 0 && styles['StickyTableHeading-second'], index === 0 && !selectable && styles.unselectable);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: stickyHeadingClassName,\n      key: heading.title,\n      style: headingStyle,\n      \"data-index-table-sticky-heading\": true\n    }, headingContent);\n  }\n\n  function getPaginatedSelectAllAction() {\n    if (!selectable || !hasBulkActions || !hasMoreItems) {\n      return;\n    }\n\n    const customActionText = paginatedSelectAllActionText !== null && paginatedSelectAllActionText !== void 0 ? paginatedSelectAllActionText : i18n.translate('Polaris.IndexTable.selectAllItems', {\n      itemsLength: itemCount,\n      resourceNamePlural: resourceName.plural.toLocaleLowerCase()\n    });\n    const actionText = selectedItemsCount === SELECT_ALL_ITEMS ? i18n.translate('Polaris.IndexTable.undo') : customActionText;\n    return {\n      content: actionText,\n      onAction: handleSelectAllItemsInStore\n    };\n  }\n\n  function handleSelectModeToggle(val) {\n    handleSelectionChange(SelectionType.All, false);\n    setIsSmallScreenSelectable(val);\n  }\n}\n\nconst isBreakpointsXS = () => {\n  var _toPx;\n\n  return typeof window === 'undefined' ? false : window.innerWidth < parseFloat((_toPx = toPx(tokens.breakpoints['breakpoints-sm'])) !== null && _toPx !== void 0 ? _toPx : '');\n};\n\nfunction IndexTable({\n  children,\n  selectable = true,\n  itemCount,\n  selectedItemsCount = 0,\n  resourceName: passedResourceName,\n  loading,\n  hasMoreItems,\n  condensed,\n  onSelectionChange,\n  ...indexTableBaseProps\n}) {\n  return /*#__PURE__*/React.createElement(IndexProvider, {\n    selectable: selectable,\n    itemCount: itemCount,\n    selectedItemsCount: selectedItemsCount,\n    resourceName: passedResourceName,\n    loading: loading,\n    hasMoreItems: hasMoreItems,\n    condensed: condensed,\n    onSelectionChange: onSelectionChange\n  }, /*#__PURE__*/React.createElement(IndexTableBase, indexTableBaseProps, children));\n}\nIndexTable.Cell = Cell;\nIndexTable.Row = Row;\n\nexport { IndexTable };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}