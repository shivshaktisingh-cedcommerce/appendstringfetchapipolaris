{"ast":null,"code":"import React, { useRef, useState, useEffect } from 'react';\nimport { HorizontalDotsMinor } from '@shopify/polaris-icons';\nimport { classNames } from '../../../../utilities/css.js';\nimport { useToggle } from '../../../../utilities/use-toggle.js';\nimport styles from '../../Navigation.scss.js';\nimport { Item } from '../Item/Item.js';\nimport { useMediaQuery } from '../../../../utilities/media-query/hooks.js';\nimport { Icon } from '../../../Icon/Icon.js';\nimport { Tooltip } from '../../../Tooltip/Tooltip.js';\nimport { useUniqueId } from '../../../../utilities/unique-id/hooks.js';\nimport { Collapsible } from '../../../Collapsible/Collapsible.js';\n\nfunction Section(_ref) {\n  let {\n    title,\n    fill,\n    action,\n    items,\n    rollup,\n    separator\n  } = _ref;\n  const {\n    value: expanded,\n    toggle: toggleExpanded,\n    setFalse: setExpandedFalse\n  } = useToggle(false);\n  const animationFrame = useRef(null);\n  const {\n    isNavigationCollapsed\n  } = useMediaQuery();\n  const [expandedIndex, setExpandedIndex] = useState();\n\n  const handleClick = (onClick, hasSubNavItems) => {\n    return () => {\n      if (onClick) {\n        onClick();\n      }\n\n      if (animationFrame.current) {\n        cancelAnimationFrame(animationFrame.current);\n      }\n\n      if (!hasSubNavItems || !isNavigationCollapsed) {\n        animationFrame.current = requestAnimationFrame(setExpandedFalse);\n      }\n    };\n  };\n\n  useEffect(() => {\n    return () => {\n      animationFrame.current && cancelAnimationFrame(animationFrame.current);\n    };\n  });\n  const className = classNames(styles.Section, separator && styles['Section-withSeparator'], fill && styles['Section-fill']);\n  const buttonMarkup = action && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: styles.Action,\n    \"aria-label\": action.accessibilityLabel,\n    onClick: action.onClick\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: action.icon\n  }));\n  const actionMarkup = action && (action.tooltip ? /*#__PURE__*/React.createElement(Tooltip, action.tooltip, buttonMarkup) : buttonMarkup);\n  const sectionHeadingMarkup = title && /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.SectionHeading\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.Text\n  }, title), actionMarkup);\n  const itemsMarkup = items.map((item, index) => {\n    const {\n      onClick,\n      label,\n      subNavigationItems,\n      ...rest\n    } = item;\n    const hasSubNavItems = subNavigationItems != null && subNavigationItems.length > 0;\n\n    const handleToggleExpandedState = () => {\n      if (expandedIndex === index) {\n        setExpandedIndex(-1);\n      } else {\n        setExpandedIndex(index);\n      }\n    };\n\n    return /*#__PURE__*/React.createElement(Item, Object.assign({\n      key: label\n    }, rest, {\n      label: label,\n      subNavigationItems: subNavigationItems,\n      onClick: handleClick(onClick, hasSubNavItems),\n      onToggleExpandedState: handleToggleExpandedState,\n      expanded: expandedIndex === index\n    }));\n  });\n  const toggleClassName = classNames(styles.Item, styles.RollupToggle);\n  const ariaLabel = rollup && (expanded ? rollup.hide : rollup.view);\n  const toggleRollup = rollup && items.length > rollup.after && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ListItem,\n    key: \"List Item\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: toggleClassName,\n    onClick: toggleExpanded,\n    \"aria-label\": ariaLabel\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.Icon\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: HorizontalDotsMinor\n  }))));\n  const activeItemIndex = items.findIndex(item => {\n    if (!rollup) {\n      return false;\n    }\n\n    return rollup.activePath === item.url || item.url && rollup.activePath.startsWith(item.url) || (item.subNavigationItems ? item.subNavigationItems.some(_ref2 => {\n      let {\n        url: itemUrl\n      } = _ref2;\n      return rollup.activePath.startsWith(itemUrl);\n    }) : false);\n  });\n  const sectionItems = rollup ? itemsMarkup.slice(0, rollup.after) : itemsMarkup;\n  const additionalItems = rollup ? itemsMarkup.slice(rollup.after) : [];\n\n  if (rollup && activeItemIndex !== -1 && activeItemIndex > rollup.after - 1) {\n    sectionItems.push(...additionalItems.splice(activeItemIndex - rollup.after, 1));\n  }\n\n  const additionalItemsId = useUniqueId('AdditionalItems');\n  const activeItemsMarkup = rollup && additionalItems.length > 0 && /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.RollupSection\n  }, /*#__PURE__*/React.createElement(Collapsible, {\n    id: additionalItemsId,\n    open: expanded\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: styles.List\n  }, additionalItems)), toggleRollup);\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: className\n  }, sectionHeadingMarkup, sectionItems, activeItemsMarkup);\n}\n\nexport { Section };","map":{"version":3,"names":["React","useRef","useState","useEffect","HorizontalDotsMinor","classNames","useToggle","styles","Item","useMediaQuery","Icon","Tooltip","useUniqueId","Collapsible","Section","title","fill","action","items","rollup","separator","value","expanded","toggle","toggleExpanded","setFalse","setExpandedFalse","animationFrame","isNavigationCollapsed","expandedIndex","setExpandedIndex","handleClick","onClick","hasSubNavItems","current","cancelAnimationFrame","requestAnimationFrame","className","buttonMarkup","createElement","type","Action","accessibilityLabel","source","icon","actionMarkup","tooltip","sectionHeadingMarkup","SectionHeading","Text","itemsMarkup","map","item","index","label","subNavigationItems","rest","length","handleToggleExpandedState","Object","assign","key","onToggleExpandedState","toggleClassName","RollupToggle","ariaLabel","hide","view","toggleRollup","after","ListItem","activeItemIndex","findIndex","activePath","url","startsWith","some","itemUrl","sectionItems","slice","additionalItems","push","splice","additionalItemsId","activeItemsMarkup","RollupSection","id","open","List"],"sources":["/home/cedcoss/react/After interview/polarisdashoboard/node_modules/@shopify/polaris/build/esm/components/Navigation/components/Section/Section.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport { HorizontalDotsMinor } from '@shopify/polaris-icons';\nimport { classNames } from '../../../../utilities/css.js';\nimport { useToggle } from '../../../../utilities/use-toggle.js';\nimport styles from '../../Navigation.scss.js';\nimport { Item } from '../Item/Item.js';\nimport { useMediaQuery } from '../../../../utilities/media-query/hooks.js';\nimport { Icon } from '../../../Icon/Icon.js';\nimport { Tooltip } from '../../../Tooltip/Tooltip.js';\nimport { useUniqueId } from '../../../../utilities/unique-id/hooks.js';\nimport { Collapsible } from '../../../Collapsible/Collapsible.js';\n\nfunction Section({\n  title,\n  fill,\n  action,\n  items,\n  rollup,\n  separator\n}) {\n  const {\n    value: expanded,\n    toggle: toggleExpanded,\n    setFalse: setExpandedFalse\n  } = useToggle(false);\n  const animationFrame = useRef(null);\n  const {\n    isNavigationCollapsed\n  } = useMediaQuery();\n  const [expandedIndex, setExpandedIndex] = useState();\n\n  const handleClick = (onClick, hasSubNavItems) => {\n    return () => {\n      if (onClick) {\n        onClick();\n      }\n\n      if (animationFrame.current) {\n        cancelAnimationFrame(animationFrame.current);\n      }\n\n      if (!hasSubNavItems || !isNavigationCollapsed) {\n        animationFrame.current = requestAnimationFrame(setExpandedFalse);\n      }\n    };\n  };\n\n  useEffect(() => {\n    return () => {\n      animationFrame.current && cancelAnimationFrame(animationFrame.current);\n    };\n  });\n  const className = classNames(styles.Section, separator && styles['Section-withSeparator'], fill && styles['Section-fill']);\n  const buttonMarkup = action && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: styles.Action,\n    \"aria-label\": action.accessibilityLabel,\n    onClick: action.onClick\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: action.icon\n  }));\n  const actionMarkup = action && (action.tooltip ? /*#__PURE__*/React.createElement(Tooltip, action.tooltip, buttonMarkup) : buttonMarkup);\n  const sectionHeadingMarkup = title && /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.SectionHeading\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.Text\n  }, title), actionMarkup);\n  const itemsMarkup = items.map((item, index) => {\n    const {\n      onClick,\n      label,\n      subNavigationItems,\n      ...rest\n    } = item;\n    const hasSubNavItems = subNavigationItems != null && subNavigationItems.length > 0;\n\n    const handleToggleExpandedState = () => {\n      if (expandedIndex === index) {\n        setExpandedIndex(-1);\n      } else {\n        setExpandedIndex(index);\n      }\n    };\n\n    return /*#__PURE__*/React.createElement(Item, Object.assign({\n      key: label\n    }, rest, {\n      label: label,\n      subNavigationItems: subNavigationItems,\n      onClick: handleClick(onClick, hasSubNavItems),\n      onToggleExpandedState: handleToggleExpandedState,\n      expanded: expandedIndex === index\n    }));\n  });\n  const toggleClassName = classNames(styles.Item, styles.RollupToggle);\n  const ariaLabel = rollup && (expanded ? rollup.hide : rollup.view);\n  const toggleRollup = rollup && items.length > rollup.after && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.ListItem,\n    key: \"List Item\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: toggleClassName,\n    onClick: toggleExpanded,\n    \"aria-label\": ariaLabel\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.Icon\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: HorizontalDotsMinor\n  }))));\n  const activeItemIndex = items.findIndex(item => {\n    if (!rollup) {\n      return false;\n    }\n\n    return rollup.activePath === item.url || item.url && rollup.activePath.startsWith(item.url) || (item.subNavigationItems ? item.subNavigationItems.some(({\n      url: itemUrl\n    }) => rollup.activePath.startsWith(itemUrl)) : false);\n  });\n  const sectionItems = rollup ? itemsMarkup.slice(0, rollup.after) : itemsMarkup;\n  const additionalItems = rollup ? itemsMarkup.slice(rollup.after) : [];\n\n  if (rollup && activeItemIndex !== -1 && activeItemIndex > rollup.after - 1) {\n    sectionItems.push(...additionalItems.splice(activeItemIndex - rollup.after, 1));\n  }\n\n  const additionalItemsId = useUniqueId('AdditionalItems');\n  const activeItemsMarkup = rollup && additionalItems.length > 0 && /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.RollupSection\n  }, /*#__PURE__*/React.createElement(Collapsible, {\n    id: additionalItemsId,\n    open: expanded\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: styles.List\n  }, additionalItems)), toggleRollup);\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: className\n  }, sectionHeadingMarkup, sectionItems, activeItemsMarkup);\n}\n\nexport { Section };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}