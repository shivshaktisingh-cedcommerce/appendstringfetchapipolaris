{"ast":null,"code":"import React, { memo, useContext, useRef, useCallback } from 'react';\nimport { classNames } from '../../../../utilities/css.js';\nimport { ActionContext } from '../../../../utilities/listbox/context.js';\nimport styles from './Option.scss.js';\nimport { useListbox } from '../../../../utilities/listbox/hooks.js';\nimport { MappedActionContext } from '../../../../utilities/autocomplete/context.js';\nimport { useSection } from '../Section/hooks.js';\nimport { listboxWithinSectionDataSelector } from '../Section/selectors.js';\nimport { TextOption } from '../TextOption/TextOption.js';\nimport { useUniqueId } from '../../../../utilities/unique-id/hooks.js';\nimport { UnstyledLink } from '../../../UnstyledLink/UnstyledLink.js';\nconst Option = /*#__PURE__*/memo(function Option(_ref) {\n  let {\n    value,\n    children,\n    selected,\n    disabled = false,\n    accessibilityLabel,\n    divider\n  } = _ref;\n  const {\n    onOptionSelect\n  } = useListbox();\n  const isAction = useContext(ActionContext);\n  const {\n    role,\n    url,\n    external,\n    onAction,\n    destructive\n  } = useContext(MappedActionContext);\n  const listItemRef = useRef(null);\n  const domId = useUniqueId('ListboxOption');\n  const sectionId = useSection();\n  const isWithinSection = Boolean(sectionId);\n  const handleOptionSelect = useCallback(event => {\n    event.preventDefault();\n    event.stopPropagation();\n    onAction && onAction();\n\n    if (listItemRef.current && !onAction) {\n      onOptionSelect({\n        domId,\n        value,\n        element: listItemRef.current,\n        disabled\n      });\n    }\n  }, [domId, onOptionSelect, value, disabled, onAction]); // prevents lost of focus on Textfield\n\n  const handleMouseDown = event => {\n    event.preventDefault();\n  };\n\n  const content = typeof children === 'string' ? /*#__PURE__*/React.createElement(TextOption, {\n    selected: selected,\n    disabled: disabled\n  }, children) : children;\n  const sectionAttributes = {\n    [listboxWithinSectionDataSelector.attribute]: isWithinSection\n  };\n  const legacyRoleSupport = role || 'option';\n  const contentMarkup = url ? /*#__PURE__*/React.createElement(UnstyledLink, {\n    url: url,\n    external: external\n  }, content) : content;\n  return /*#__PURE__*/React.createElement(\"li\", Object.assign({}, sectionAttributes, {\n    \"data-listbox-option\": true,\n    \"data-listbox-option-action\": isAction,\n    \"data-listbox-option-value\": value,\n    \"data-listbox-option-destructive\": destructive,\n    \"data-within-section\": isWithinSection,\n    className: classNames(styles.Option, divider && styles.divider),\n    id: domId,\n    ref: listItemRef,\n    tabIndex: -1,\n    role: legacyRoleSupport,\n    \"aria-label\": accessibilityLabel,\n    \"aria-selected\": selected,\n    \"aria-disabled\": disabled,\n    onClick: disabled ? undefined : handleOptionSelect,\n    onKeyDown: disabled ? undefined : handleOptionSelect,\n    onMouseDown: handleMouseDown\n  }), contentMarkup);\n});\nexport { Option };","map":{"version":3,"names":["React","memo","useContext","useRef","useCallback","classNames","ActionContext","styles","useListbox","MappedActionContext","useSection","listboxWithinSectionDataSelector","TextOption","useUniqueId","UnstyledLink","Option","value","children","selected","disabled","accessibilityLabel","divider","onOptionSelect","isAction","role","url","external","onAction","destructive","listItemRef","domId","sectionId","isWithinSection","Boolean","handleOptionSelect","event","preventDefault","stopPropagation","current","element","handleMouseDown","content","createElement","sectionAttributes","attribute","legacyRoleSupport","contentMarkup","Object","assign","className","id","ref","tabIndex","onClick","undefined","onKeyDown","onMouseDown"],"sources":["/home/cedcoss/react/After interview/polarisdashoboard/node_modules/@shopify/polaris/build/esm/components/Listbox/components/Option/Option.js"],"sourcesContent":["import React, { memo, useContext, useRef, useCallback } from 'react';\nimport { classNames } from '../../../../utilities/css.js';\nimport { ActionContext } from '../../../../utilities/listbox/context.js';\nimport styles from './Option.scss.js';\nimport { useListbox } from '../../../../utilities/listbox/hooks.js';\nimport { MappedActionContext } from '../../../../utilities/autocomplete/context.js';\nimport { useSection } from '../Section/hooks.js';\nimport { listboxWithinSectionDataSelector } from '../Section/selectors.js';\nimport { TextOption } from '../TextOption/TextOption.js';\nimport { useUniqueId } from '../../../../utilities/unique-id/hooks.js';\nimport { UnstyledLink } from '../../../UnstyledLink/UnstyledLink.js';\n\nconst Option = /*#__PURE__*/memo(function Option({\n  value,\n  children,\n  selected,\n  disabled = false,\n  accessibilityLabel,\n  divider\n}) {\n  const {\n    onOptionSelect\n  } = useListbox();\n  const isAction = useContext(ActionContext);\n  const {\n    role,\n    url,\n    external,\n    onAction,\n    destructive\n  } = useContext(MappedActionContext);\n  const listItemRef = useRef(null);\n  const domId = useUniqueId('ListboxOption');\n  const sectionId = useSection();\n  const isWithinSection = Boolean(sectionId);\n  const handleOptionSelect = useCallback(event => {\n    event.preventDefault();\n    event.stopPropagation();\n    onAction && onAction();\n\n    if (listItemRef.current && !onAction) {\n      onOptionSelect({\n        domId,\n        value,\n        element: listItemRef.current,\n        disabled\n      });\n    }\n  }, [domId, onOptionSelect, value, disabled, onAction]); // prevents lost of focus on Textfield\n\n  const handleMouseDown = event => {\n    event.preventDefault();\n  };\n\n  const content = typeof children === 'string' ? /*#__PURE__*/React.createElement(TextOption, {\n    selected: selected,\n    disabled: disabled\n  }, children) : children;\n  const sectionAttributes = {\n    [listboxWithinSectionDataSelector.attribute]: isWithinSection\n  };\n  const legacyRoleSupport = role || 'option';\n  const contentMarkup = url ? /*#__PURE__*/React.createElement(UnstyledLink, {\n    url: url,\n    external: external\n  }, content) : content;\n  return /*#__PURE__*/React.createElement(\"li\", Object.assign({}, sectionAttributes, {\n    \"data-listbox-option\": true,\n    \"data-listbox-option-action\": isAction,\n    \"data-listbox-option-value\": value,\n    \"data-listbox-option-destructive\": destructive,\n    \"data-within-section\": isWithinSection,\n    className: classNames(styles.Option, divider && styles.divider),\n    id: domId,\n    ref: listItemRef,\n    tabIndex: -1,\n    role: legacyRoleSupport,\n    \"aria-label\": accessibilityLabel,\n    \"aria-selected\": selected,\n    \"aria-disabled\": disabled,\n    onClick: disabled ? undefined : handleOptionSelect,\n    onKeyDown: disabled ? undefined : handleOptionSelect,\n    onMouseDown: handleMouseDown\n  }), contentMarkup);\n});\n\nexport { Option };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}