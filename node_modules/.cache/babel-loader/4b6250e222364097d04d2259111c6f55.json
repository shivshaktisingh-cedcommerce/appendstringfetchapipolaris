{"ast":null,"code":"import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { classNames } from '../../utilities/css.js';\nimport styles from './Collapsible.scss.js';\n\nfunction Collapsible(_ref) {\n  let {\n    id,\n    expandOnPrint,\n    open,\n    transition,\n    preventMeasuringOnChildrenUpdate,\n    children\n  } = _ref;\n  const [height, setHeight] = useState(0);\n  const [isOpen, setIsOpen] = useState(open);\n  const [animationState, setAnimationState] = useState('idle');\n  const collapsibleContainer = useRef(null);\n  const isFullyOpen = animationState === 'idle' && open && isOpen;\n  const isFullyClosed = animationState === 'idle' && !open && !isOpen;\n  const content = expandOnPrint || !isFullyClosed ? children : null;\n  const wrapperClassName = classNames(styles.Collapsible, isFullyClosed && styles.isFullyClosed, expandOnPrint && styles.expandOnPrint);\n  const collapsibleStyles = { ...(transition && {\n      transitionDuration: `${transition.duration}`,\n      transitionTimingFunction: `${transition.timingFunction}`\n    }),\n    ...{\n      maxHeight: isFullyOpen ? 'none' : `${height}px`,\n      overflow: isFullyOpen ? 'visible' : 'hidden'\n    }\n  };\n  const handleCompleteAnimation = useCallback(_ref2 => {\n    let {\n      target\n    } = _ref2;\n\n    if (target === collapsibleContainer.current) {\n      setAnimationState('idle');\n      setIsOpen(open);\n    }\n  }, [open]);\n  useEffect(() => {\n    if (isFullyClosed || preventMeasuringOnChildrenUpdate) return;\n    setAnimationState('measuring');\n  }, [children, isFullyClosed, preventMeasuringOnChildrenUpdate]);\n  useEffect(() => {\n    if (open !== isOpen) {\n      setAnimationState('measuring');\n    }\n  }, [open, isOpen]);\n  useEffect(() => {\n    if (!open || !collapsibleContainer.current) return; // If collapsible defaults to open, set an initial height\n\n    setHeight(collapsibleContainer.current.scrollHeight); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    if (!collapsibleContainer.current) return;\n\n    switch (animationState) {\n      case 'idle':\n        break;\n\n      case 'measuring':\n        setHeight(collapsibleContainer.current.scrollHeight);\n        setAnimationState('animating');\n        break;\n\n      case 'animating':\n        setHeight(open ? collapsibleContainer.current.scrollHeight : 0);\n    }\n  }, [animationState, open, isOpen]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: id,\n    style: collapsibleStyles,\n    ref: collapsibleContainer,\n    className: wrapperClassName,\n    onTransitionEnd: handleCompleteAnimation,\n    \"aria-hidden\": !open\n  }, content);\n}\n\nexport { Collapsible };","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","classNames","styles","Collapsible","id","expandOnPrint","open","transition","preventMeasuringOnChildrenUpdate","children","height","setHeight","isOpen","setIsOpen","animationState","setAnimationState","collapsibleContainer","isFullyOpen","isFullyClosed","content","wrapperClassName","collapsibleStyles","transitionDuration","duration","transitionTimingFunction","timingFunction","maxHeight","overflow","handleCompleteAnimation","target","current","scrollHeight","createElement","style","ref","className","onTransitionEnd"],"sources":["/home/cedcoss/react/After interview/polarisdashoboard/node_modules/@shopify/polaris/build/esm/components/Collapsible/Collapsible.js"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { classNames } from '../../utilities/css.js';\nimport styles from './Collapsible.scss.js';\n\nfunction Collapsible({\n  id,\n  expandOnPrint,\n  open,\n  transition,\n  preventMeasuringOnChildrenUpdate,\n  children\n}) {\n  const [height, setHeight] = useState(0);\n  const [isOpen, setIsOpen] = useState(open);\n  const [animationState, setAnimationState] = useState('idle');\n  const collapsibleContainer = useRef(null);\n  const isFullyOpen = animationState === 'idle' && open && isOpen;\n  const isFullyClosed = animationState === 'idle' && !open && !isOpen;\n  const content = expandOnPrint || !isFullyClosed ? children : null;\n  const wrapperClassName = classNames(styles.Collapsible, isFullyClosed && styles.isFullyClosed, expandOnPrint && styles.expandOnPrint);\n  const collapsibleStyles = { ...(transition && {\n      transitionDuration: `${transition.duration}`,\n      transitionTimingFunction: `${transition.timingFunction}`\n    }),\n    ...{\n      maxHeight: isFullyOpen ? 'none' : `${height}px`,\n      overflow: isFullyOpen ? 'visible' : 'hidden'\n    }\n  };\n  const handleCompleteAnimation = useCallback(({\n    target\n  }) => {\n    if (target === collapsibleContainer.current) {\n      setAnimationState('idle');\n      setIsOpen(open);\n    }\n  }, [open]);\n  useEffect(() => {\n    if (isFullyClosed || preventMeasuringOnChildrenUpdate) return;\n    setAnimationState('measuring');\n  }, [children, isFullyClosed, preventMeasuringOnChildrenUpdate]);\n  useEffect(() => {\n    if (open !== isOpen) {\n      setAnimationState('measuring');\n    }\n  }, [open, isOpen]);\n  useEffect(() => {\n    if (!open || !collapsibleContainer.current) return; // If collapsible defaults to open, set an initial height\n\n    setHeight(collapsibleContainer.current.scrollHeight); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    if (!collapsibleContainer.current) return;\n\n    switch (animationState) {\n      case 'idle':\n        break;\n\n      case 'measuring':\n        setHeight(collapsibleContainer.current.scrollHeight);\n        setAnimationState('animating');\n        break;\n\n      case 'animating':\n        setHeight(open ? collapsibleContainer.current.scrollHeight : 0);\n    }\n  }, [animationState, open, isOpen]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: id,\n    style: collapsibleStyles,\n    ref: collapsibleContainer,\n    className: wrapperClassName,\n    onTransitionEnd: handleCompleteAnimation,\n    \"aria-hidden\": !open\n  }, content);\n}\n\nexport { Collapsible };\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,WAAlC,EAA+CC,SAA/C,QAAgE,OAAhE;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,OAAOC,MAAP,MAAmB,uBAAnB;;AAEA,SAASC,WAAT,OAOG;EAAA,IAPkB;IACnBC,EADmB;IAEnBC,aAFmB;IAGnBC,IAHmB;IAInBC,UAJmB;IAKnBC,gCALmB;IAMnBC;EANmB,CAOlB;EACD,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBd,QAAQ,CAAC,CAAD,CAApC;EACA,MAAM,CAACe,MAAD,EAASC,SAAT,IAAsBhB,QAAQ,CAACS,IAAD,CAApC;EACA,MAAM,CAACQ,cAAD,EAAiBC,iBAAjB,IAAsClB,QAAQ,CAAC,MAAD,CAApD;EACA,MAAMmB,oBAAoB,GAAGlB,MAAM,CAAC,IAAD,CAAnC;EACA,MAAMmB,WAAW,GAAGH,cAAc,KAAK,MAAnB,IAA6BR,IAA7B,IAAqCM,MAAzD;EACA,MAAMM,aAAa,GAAGJ,cAAc,KAAK,MAAnB,IAA6B,CAACR,IAA9B,IAAsC,CAACM,MAA7D;EACA,MAAMO,OAAO,GAAGd,aAAa,IAAI,CAACa,aAAlB,GAAkCT,QAAlC,GAA6C,IAA7D;EACA,MAAMW,gBAAgB,GAAGnB,UAAU,CAACC,MAAM,CAACC,WAAR,EAAqBe,aAAa,IAAIhB,MAAM,CAACgB,aAA7C,EAA4Db,aAAa,IAAIH,MAAM,CAACG,aAApF,CAAnC;EACA,MAAMgB,iBAAiB,GAAG,EAAE,IAAId,UAAU,IAAI;MAC1Ce,kBAAkB,EAAG,GAAEf,UAAU,CAACgB,QAAS,EADD;MAE1CC,wBAAwB,EAAG,GAAEjB,UAAU,CAACkB,cAAe;IAFb,CAAlB,CAAF;IAIxB,GAAG;MACDC,SAAS,EAAET,WAAW,GAAG,MAAH,GAAa,GAAEP,MAAO,IAD3C;MAEDiB,QAAQ,EAAEV,WAAW,GAAG,SAAH,GAAe;IAFnC;EAJqB,CAA1B;EASA,MAAMW,uBAAuB,GAAG7B,WAAW,CAAC,SAEtC;IAAA,IAFuC;MAC3C8B;IAD2C,CAEvC;;IACJ,IAAIA,MAAM,KAAKb,oBAAoB,CAACc,OAApC,EAA6C;MAC3Cf,iBAAiB,CAAC,MAAD,CAAjB;MACAF,SAAS,CAACP,IAAD,CAAT;IACD;EACF,CAP0C,EAOxC,CAACA,IAAD,CAPwC,CAA3C;EAQAN,SAAS,CAAC,MAAM;IACd,IAAIkB,aAAa,IAAIV,gCAArB,EAAuD;IACvDO,iBAAiB,CAAC,WAAD,CAAjB;EACD,CAHQ,EAGN,CAACN,QAAD,EAAWS,aAAX,EAA0BV,gCAA1B,CAHM,CAAT;EAIAR,SAAS,CAAC,MAAM;IACd,IAAIM,IAAI,KAAKM,MAAb,EAAqB;MACnBG,iBAAiB,CAAC,WAAD,CAAjB;IACD;EACF,CAJQ,EAIN,CAACT,IAAD,EAAOM,MAAP,CAJM,CAAT;EAKAZ,SAAS,CAAC,MAAM;IACd,IAAI,CAACM,IAAD,IAAS,CAACU,oBAAoB,CAACc,OAAnC,EAA4C,OAD9B,CACsC;;IAEpDnB,SAAS,CAACK,oBAAoB,CAACc,OAArB,CAA6BC,YAA9B,CAAT,CAHc,CAGwC;EACvD,CAJQ,EAIN,EAJM,CAAT;EAKA/B,SAAS,CAAC,MAAM;IACd,IAAI,CAACgB,oBAAoB,CAACc,OAA1B,EAAmC;;IAEnC,QAAQhB,cAAR;MACE,KAAK,MAAL;QACE;;MAEF,KAAK,WAAL;QACEH,SAAS,CAACK,oBAAoB,CAACc,OAArB,CAA6BC,YAA9B,CAAT;QACAhB,iBAAiB,CAAC,WAAD,CAAjB;QACA;;MAEF,KAAK,WAAL;QACEJ,SAAS,CAACL,IAAI,GAAGU,oBAAoB,CAACc,OAArB,CAA6BC,YAAhC,GAA+C,CAApD,CAAT;IAVJ;EAYD,CAfQ,EAeN,CAACjB,cAAD,EAAiBR,IAAjB,EAAuBM,MAAvB,CAfM,CAAT;EAgBA,OAAO,aAAahB,KAAK,CAACoC,aAAN,CAAoB,KAApB,EAA2B;IAC7C5B,EAAE,EAAEA,EADyC;IAE7C6B,KAAK,EAAEZ,iBAFsC;IAG7Ca,GAAG,EAAElB,oBAHwC;IAI7CmB,SAAS,EAAEf,gBAJkC;IAK7CgB,eAAe,EAAER,uBAL4B;IAM7C,eAAe,CAACtB;EAN6B,CAA3B,EAOjBa,OAPiB,CAApB;AAQD;;AAED,SAAShB,WAAT"},"metadata":{},"sourceType":"module"}