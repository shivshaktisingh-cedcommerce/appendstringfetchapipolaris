{"ast":null,"code":"import React, { useState, useRef, useCallback } from 'react';\nimport { TransitionGroup } from 'react-transition-group';\nimport { focusFirstFocusableNode } from '../../utilities/focus.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { WithinContentContext } from '../../utilities/within-content-context.js';\nimport { wrapWithComponent } from '../../utilities/components.js';\nimport styles from './Modal.scss.js';\nimport { Dialog } from './components/Dialog/Dialog.js';\nimport { Header } from './components/Header/Header.js';\nimport { Section } from './components/Section/Section.js';\nimport { Footer } from './components/Footer/Footer.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport { Scrollable } from '../Scrollable/Scrollable.js';\nimport { Portal } from '../Portal/Portal.js';\nimport { Backdrop } from '../Backdrop/Backdrop.js';\nconst IFRAME_LOADING_HEIGHT = 200;\nconst DEFAULT_IFRAME_CONTENT_HEIGHT = 400;\n\nconst Modal = function Modal(_ref) {\n  let {\n    children,\n    title,\n    titleHidden = false,\n    src,\n    iFrameName,\n    open,\n    instant,\n    sectioned,\n    loading,\n    large,\n    small,\n    limitHeight,\n    footer,\n    primaryAction,\n    secondaryActions,\n    onScrolledToBottom,\n    activator,\n    onClose,\n    onIFrameLoad,\n    onTransitionEnd,\n    noScroll,\n    fullScreen\n  } = _ref;\n  const [iframeHeight, setIframeHeight] = useState(IFRAME_LOADING_HEIGHT);\n  const headerId = useUniqueId('modal-header');\n  const activatorRef = useRef(null);\n  const i18n = useI18n();\n  const iframeTitle = i18n.translate('Polaris.Modal.iFrameTitle');\n  let dialog;\n  let backdrop;\n  const handleEntered = useCallback(() => {\n    if (onTransitionEnd) {\n      onTransitionEnd();\n    }\n  }, [onTransitionEnd]);\n  const handleExited = useCallback(() => {\n    setIframeHeight(IFRAME_LOADING_HEIGHT);\n    const activatorElement = activator && isRef(activator) ? activator && activator.current : activatorRef.current;\n\n    if (activatorElement) {\n      requestAnimationFrame(() => focusFirstFocusableNode(activatorElement));\n    }\n  }, [activator]);\n  const handleIFrameLoad = useCallback(evt => {\n    const iframe = evt.target;\n\n    if (iframe && iframe.contentWindow) {\n      try {\n        setIframeHeight(iframe.contentWindow.document.body.scrollHeight);\n      } catch (_error) {\n        setIframeHeight(DEFAULT_IFRAME_CONTENT_HEIGHT);\n      }\n    }\n\n    if (onIFrameLoad != null) {\n      onIFrameLoad(evt);\n    }\n  }, [onIFrameLoad]);\n\n  if (open) {\n    const footerMarkup = !footer && !primaryAction && !secondaryActions ? null : /*#__PURE__*/React.createElement(Footer, {\n      primaryAction: primaryAction,\n      secondaryActions: secondaryActions\n    }, footer);\n    const content = sectioned ? wrapWithComponent(children, Section, {\n      titleHidden\n    }) : children;\n    const body = loading ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Spinner\n    }, /*#__PURE__*/React.createElement(Spinner, null)) : content;\n    const scrollContainerMarkup = noScroll ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Body\n    }, body) : /*#__PURE__*/React.createElement(Scrollable, {\n      shadow: true,\n      className: styles.Body,\n      onScrolledToBottom: onScrolledToBottom\n    }, body);\n    const bodyMarkup = src ? /*#__PURE__*/React.createElement(\"iframe\", {\n      name: iFrameName,\n      title: iframeTitle,\n      src: src,\n      className: styles.IFrame,\n      onLoad: handleIFrameLoad,\n      style: {\n        height: `${iframeHeight}px`\n      }\n    }) : scrollContainerMarkup;\n    dialog = /*#__PURE__*/React.createElement(Dialog, {\n      instant: instant,\n      labelledBy: headerId,\n      onClose: onClose,\n      onEntered: handleEntered,\n      onExited: handleExited,\n      large: large,\n      small: small,\n      limitHeight: limitHeight,\n      fullScreen: fullScreen\n    }, /*#__PURE__*/React.createElement(Header, {\n      titleHidden: titleHidden,\n      id: headerId,\n      onClose: onClose\n    }, title), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.BodyWrapper\n    }, bodyMarkup), footerMarkup);\n    backdrop = /*#__PURE__*/React.createElement(Backdrop, {\n      onClick: onClose\n    });\n  }\n\n  const animated = !instant;\n  const activatorMarkup = activator && !isRef(activator) ? /*#__PURE__*/React.createElement(\"div\", {\n    ref: activatorRef\n  }, activator) : null;\n  return /*#__PURE__*/React.createElement(WithinContentContext.Provider, {\n    value: true\n  }, activatorMarkup, /*#__PURE__*/React.createElement(Portal, {\n    idPrefix: \"modal\"\n  }, /*#__PURE__*/React.createElement(TransitionGroup, {\n    appear: animated,\n    enter: animated,\n    exit: animated\n  }, dialog), backdrop));\n};\n\nfunction isRef(ref) {\n  return Object.prototype.hasOwnProperty.call(ref, 'current');\n}\n\nModal.Section = Section;\nexport { Modal };","map":{"version":3,"names":["React","useState","useRef","useCallback","TransitionGroup","focusFirstFocusableNode","useUniqueId","WithinContentContext","wrapWithComponent","styles","Dialog","Header","Section","Footer","useI18n","Spinner","Scrollable","Portal","Backdrop","IFRAME_LOADING_HEIGHT","DEFAULT_IFRAME_CONTENT_HEIGHT","Modal","children","title","titleHidden","src","iFrameName","open","instant","sectioned","loading","large","small","limitHeight","footer","primaryAction","secondaryActions","onScrolledToBottom","activator","onClose","onIFrameLoad","onTransitionEnd","noScroll","fullScreen","iframeHeight","setIframeHeight","headerId","activatorRef","i18n","iframeTitle","translate","dialog","backdrop","handleEntered","handleExited","activatorElement","isRef","current","requestAnimationFrame","handleIFrameLoad","evt","iframe","target","contentWindow","document","body","scrollHeight","_error","footerMarkup","createElement","content","className","scrollContainerMarkup","Body","shadow","bodyMarkup","name","IFrame","onLoad","style","height","labelledBy","onEntered","onExited","id","BodyWrapper","onClick","animated","activatorMarkup","ref","Provider","value","idPrefix","appear","enter","exit","Object","prototype","hasOwnProperty","call"],"sources":["/home/cedcoss/react/After interview/polarisdashoboard/node_modules/@shopify/polaris/build/esm/components/Modal/Modal.js"],"sourcesContent":["import React, { useState, useRef, useCallback } from 'react';\nimport { TransitionGroup } from 'react-transition-group';\nimport { focusFirstFocusableNode } from '../../utilities/focus.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { WithinContentContext } from '../../utilities/within-content-context.js';\nimport { wrapWithComponent } from '../../utilities/components.js';\nimport styles from './Modal.scss.js';\nimport { Dialog } from './components/Dialog/Dialog.js';\nimport { Header } from './components/Header/Header.js';\nimport { Section } from './components/Section/Section.js';\nimport { Footer } from './components/Footer/Footer.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport { Scrollable } from '../Scrollable/Scrollable.js';\nimport { Portal } from '../Portal/Portal.js';\nimport { Backdrop } from '../Backdrop/Backdrop.js';\n\nconst IFRAME_LOADING_HEIGHT = 200;\nconst DEFAULT_IFRAME_CONTENT_HEIGHT = 400;\nconst Modal = function Modal({\n  children,\n  title,\n  titleHidden = false,\n  src,\n  iFrameName,\n  open,\n  instant,\n  sectioned,\n  loading,\n  large,\n  small,\n  limitHeight,\n  footer,\n  primaryAction,\n  secondaryActions,\n  onScrolledToBottom,\n  activator,\n  onClose,\n  onIFrameLoad,\n  onTransitionEnd,\n  noScroll,\n  fullScreen\n}) {\n  const [iframeHeight, setIframeHeight] = useState(IFRAME_LOADING_HEIGHT);\n  const headerId = useUniqueId('modal-header');\n  const activatorRef = useRef(null);\n  const i18n = useI18n();\n  const iframeTitle = i18n.translate('Polaris.Modal.iFrameTitle');\n  let dialog;\n  let backdrop;\n  const handleEntered = useCallback(() => {\n    if (onTransitionEnd) {\n      onTransitionEnd();\n    }\n  }, [onTransitionEnd]);\n  const handleExited = useCallback(() => {\n    setIframeHeight(IFRAME_LOADING_HEIGHT);\n    const activatorElement = activator && isRef(activator) ? activator && activator.current : activatorRef.current;\n\n    if (activatorElement) {\n      requestAnimationFrame(() => focusFirstFocusableNode(activatorElement));\n    }\n  }, [activator]);\n  const handleIFrameLoad = useCallback(evt => {\n    const iframe = evt.target;\n\n    if (iframe && iframe.contentWindow) {\n      try {\n        setIframeHeight(iframe.contentWindow.document.body.scrollHeight);\n      } catch (_error) {\n        setIframeHeight(DEFAULT_IFRAME_CONTENT_HEIGHT);\n      }\n    }\n\n    if (onIFrameLoad != null) {\n      onIFrameLoad(evt);\n    }\n  }, [onIFrameLoad]);\n\n  if (open) {\n    const footerMarkup = !footer && !primaryAction && !secondaryActions ? null : /*#__PURE__*/React.createElement(Footer, {\n      primaryAction: primaryAction,\n      secondaryActions: secondaryActions\n    }, footer);\n    const content = sectioned ? wrapWithComponent(children, Section, {\n      titleHidden\n    }) : children;\n    const body = loading ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Spinner\n    }, /*#__PURE__*/React.createElement(Spinner, null)) : content;\n    const scrollContainerMarkup = noScroll ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Body\n    }, body) : /*#__PURE__*/React.createElement(Scrollable, {\n      shadow: true,\n      className: styles.Body,\n      onScrolledToBottom: onScrolledToBottom\n    }, body);\n    const bodyMarkup = src ? /*#__PURE__*/React.createElement(\"iframe\", {\n      name: iFrameName,\n      title: iframeTitle,\n      src: src,\n      className: styles.IFrame,\n      onLoad: handleIFrameLoad,\n      style: {\n        height: `${iframeHeight}px`\n      }\n    }) : scrollContainerMarkup;\n    dialog = /*#__PURE__*/React.createElement(Dialog, {\n      instant: instant,\n      labelledBy: headerId,\n      onClose: onClose,\n      onEntered: handleEntered,\n      onExited: handleExited,\n      large: large,\n      small: small,\n      limitHeight: limitHeight,\n      fullScreen: fullScreen\n    }, /*#__PURE__*/React.createElement(Header, {\n      titleHidden: titleHidden,\n      id: headerId,\n      onClose: onClose\n    }, title), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.BodyWrapper\n    }, bodyMarkup), footerMarkup);\n    backdrop = /*#__PURE__*/React.createElement(Backdrop, {\n      onClick: onClose\n    });\n  }\n\n  const animated = !instant;\n  const activatorMarkup = activator && !isRef(activator) ? /*#__PURE__*/React.createElement(\"div\", {\n    ref: activatorRef\n  }, activator) : null;\n  return /*#__PURE__*/React.createElement(WithinContentContext.Provider, {\n    value: true\n  }, activatorMarkup, /*#__PURE__*/React.createElement(Portal, {\n    idPrefix: \"modal\"\n  }, /*#__PURE__*/React.createElement(TransitionGroup, {\n    appear: animated,\n    enter: animated,\n    exit: animated\n  }, dialog), backdrop));\n};\n\nfunction isRef(ref) {\n  return Object.prototype.hasOwnProperty.call(ref, 'current');\n}\n\nModal.Section = Section;\n\nexport { Modal };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}