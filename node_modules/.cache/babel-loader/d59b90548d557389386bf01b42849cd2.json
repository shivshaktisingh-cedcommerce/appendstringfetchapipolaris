{"ast":null,"code":"import React, { useState, Children, useRef, useCallback, useMemo } from 'react';\nimport styles from './Combobox.scss.js';\nimport { ComboboxTextFieldContext, ComboboxListboxContext, ComboboxListboxOptionContext } from '../../utilities/combobox/context.js';\nimport { TextField } from './components/TextField/TextField.js';\nimport { Popover } from '../Popover/Popover.js';\n\nfunction Combobox(_ref) {\n  let {\n    activator,\n    allowMultiple,\n    children,\n    preferredPosition = 'below',\n    willLoadMoreOptions,\n    height,\n    onScrolledToBottom,\n    onClose\n  } = _ref;\n  const [popoverActive, setPopoverActive] = useState(false);\n  const [activeOptionId, setActiveOptionId] = useState();\n  const [textFieldLabelId, setTextFieldLabelId] = useState();\n  const [listboxId, setListboxId] = useState();\n  const [textFieldFocused, setTextFieldFocused] = useState(false);\n  const shouldOpen = Boolean(!popoverActive && Children.count(children) > 0);\n  const ref = useRef(null);\n  const handleClose = useCallback(() => {\n    setPopoverActive(false);\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n    setActiveOptionId(undefined);\n  }, [onClose]);\n  const handleOpen = useCallback(() => {\n    setPopoverActive(true);\n    setActiveOptionId(undefined);\n  }, []);\n  const onOptionSelected = useCallback(() => {\n    var _ref$current;\n\n    if (!allowMultiple) {\n      handleClose();\n      setActiveOptionId(undefined);\n      return;\n    }\n\n    (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.forceUpdatePosition();\n  }, [allowMultiple, handleClose]);\n  const handleFocus = useCallback(() => {\n    if (shouldOpen) {\n      handleOpen();\n    }\n  }, [shouldOpen, handleOpen]);\n  const handleChange = useCallback(() => {\n    if (shouldOpen) {\n      handleOpen();\n    }\n  }, [shouldOpen, handleOpen]);\n  const handleBlur = useCallback(() => {\n    if (popoverActive) {\n      handleClose();\n    }\n  }, [popoverActive, handleClose]);\n  const textFieldContextValue = useMemo(() => ({\n    activeOptionId,\n    expanded: popoverActive,\n    listboxId,\n    setTextFieldFocused,\n    setTextFieldLabelId,\n    onTextFieldFocus: handleFocus,\n    onTextFieldChange: handleChange,\n    onTextFieldBlur: handleBlur\n  }), [activeOptionId, popoverActive, listboxId, setTextFieldFocused, setTextFieldLabelId, handleFocus, handleChange, handleBlur]);\n  const listboxOptionContextValue = useMemo(() => ({\n    allowMultiple\n  }), [allowMultiple]);\n  const listboxContextValue = useMemo(() => ({\n    listboxId,\n    textFieldLabelId,\n    textFieldFocused,\n    willLoadMoreOptions,\n    onOptionSelected,\n    setActiveOptionId,\n    setListboxId,\n    onKeyToBottom: onScrolledToBottom\n  }), [listboxId, textFieldLabelId, textFieldFocused, willLoadMoreOptions, onOptionSelected, setActiveOptionId, setListboxId, onScrolledToBottom]);\n  return /*#__PURE__*/React.createElement(Popover, {\n    ref: ref,\n    active: popoverActive,\n    activator: /*#__PURE__*/React.createElement(ComboboxTextFieldContext.Provider, {\n      value: textFieldContextValue\n    }, activator),\n    autofocusTarget: \"none\",\n    preventFocusOnClose: true,\n    fullWidth: true,\n    preferInputActivator: false,\n    preferredPosition: preferredPosition,\n    onClose: handleClose\n  }, Children.count(children) > 0 ? /*#__PURE__*/React.createElement(Popover.Pane, {\n    onScrolledToBottom: onScrolledToBottom,\n    height: height\n  }, /*#__PURE__*/React.createElement(ComboboxListboxContext.Provider, {\n    value: listboxContextValue\n  }, /*#__PURE__*/React.createElement(ComboboxListboxOptionContext.Provider, {\n    value: listboxOptionContextValue\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Listbox\n  }, children)))) : null);\n}\n\nCombobox.TextField = TextField;\nexport { Combobox };","map":{"version":3,"names":["React","useState","Children","useRef","useCallback","useMemo","styles","ComboboxTextFieldContext","ComboboxListboxContext","ComboboxListboxOptionContext","TextField","Popover","Combobox","activator","allowMultiple","children","preferredPosition","willLoadMoreOptions","height","onScrolledToBottom","onClose","popoverActive","setPopoverActive","activeOptionId","setActiveOptionId","textFieldLabelId","setTextFieldLabelId","listboxId","setListboxId","textFieldFocused","setTextFieldFocused","shouldOpen","Boolean","count","ref","handleClose","undefined","handleOpen","onOptionSelected","_ref$current","current","forceUpdatePosition","handleFocus","handleChange","handleBlur","textFieldContextValue","expanded","onTextFieldFocus","onTextFieldChange","onTextFieldBlur","listboxOptionContextValue","listboxContextValue","onKeyToBottom","createElement","active","Provider","value","autofocusTarget","preventFocusOnClose","fullWidth","preferInputActivator","Pane","className","Listbox"],"sources":["/home/cedcoss/react/After interview/polarisdashoboard/node_modules/@shopify/polaris/build/esm/components/Combobox/Combobox.js"],"sourcesContent":["import React, { useState, Children, useRef, useCallback, useMemo } from 'react';\nimport styles from './Combobox.scss.js';\nimport { ComboboxTextFieldContext, ComboboxListboxContext, ComboboxListboxOptionContext } from '../../utilities/combobox/context.js';\nimport { TextField } from './components/TextField/TextField.js';\nimport { Popover } from '../Popover/Popover.js';\n\nfunction Combobox({\n  activator,\n  allowMultiple,\n  children,\n  preferredPosition = 'below',\n  willLoadMoreOptions,\n  height,\n  onScrolledToBottom,\n  onClose\n}) {\n  const [popoverActive, setPopoverActive] = useState(false);\n  const [activeOptionId, setActiveOptionId] = useState();\n  const [textFieldLabelId, setTextFieldLabelId] = useState();\n  const [listboxId, setListboxId] = useState();\n  const [textFieldFocused, setTextFieldFocused] = useState(false);\n  const shouldOpen = Boolean(!popoverActive && Children.count(children) > 0);\n  const ref = useRef(null);\n  const handleClose = useCallback(() => {\n    setPopoverActive(false);\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n    setActiveOptionId(undefined);\n  }, [onClose]);\n  const handleOpen = useCallback(() => {\n    setPopoverActive(true);\n    setActiveOptionId(undefined);\n  }, []);\n  const onOptionSelected = useCallback(() => {\n    var _ref$current;\n\n    if (!allowMultiple) {\n      handleClose();\n      setActiveOptionId(undefined);\n      return;\n    }\n\n    (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.forceUpdatePosition();\n  }, [allowMultiple, handleClose]);\n  const handleFocus = useCallback(() => {\n    if (shouldOpen) {\n      handleOpen();\n    }\n  }, [shouldOpen, handleOpen]);\n  const handleChange = useCallback(() => {\n    if (shouldOpen) {\n      handleOpen();\n    }\n  }, [shouldOpen, handleOpen]);\n  const handleBlur = useCallback(() => {\n    if (popoverActive) {\n      handleClose();\n    }\n  }, [popoverActive, handleClose]);\n  const textFieldContextValue = useMemo(() => ({\n    activeOptionId,\n    expanded: popoverActive,\n    listboxId,\n    setTextFieldFocused,\n    setTextFieldLabelId,\n    onTextFieldFocus: handleFocus,\n    onTextFieldChange: handleChange,\n    onTextFieldBlur: handleBlur\n  }), [activeOptionId, popoverActive, listboxId, setTextFieldFocused, setTextFieldLabelId, handleFocus, handleChange, handleBlur]);\n  const listboxOptionContextValue = useMemo(() => ({\n    allowMultiple\n  }), [allowMultiple]);\n  const listboxContextValue = useMemo(() => ({\n    listboxId,\n    textFieldLabelId,\n    textFieldFocused,\n    willLoadMoreOptions,\n    onOptionSelected,\n    setActiveOptionId,\n    setListboxId,\n    onKeyToBottom: onScrolledToBottom\n  }), [listboxId, textFieldLabelId, textFieldFocused, willLoadMoreOptions, onOptionSelected, setActiveOptionId, setListboxId, onScrolledToBottom]);\n  return /*#__PURE__*/React.createElement(Popover, {\n    ref: ref,\n    active: popoverActive,\n    activator: /*#__PURE__*/React.createElement(ComboboxTextFieldContext.Provider, {\n      value: textFieldContextValue\n    }, activator),\n    autofocusTarget: \"none\",\n    preventFocusOnClose: true,\n    fullWidth: true,\n    preferInputActivator: false,\n    preferredPosition: preferredPosition,\n    onClose: handleClose\n  }, Children.count(children) > 0 ? /*#__PURE__*/React.createElement(Popover.Pane, {\n    onScrolledToBottom: onScrolledToBottom,\n    height: height\n  }, /*#__PURE__*/React.createElement(ComboboxListboxContext.Provider, {\n    value: listboxContextValue\n  }, /*#__PURE__*/React.createElement(ComboboxListboxOptionContext.Provider, {\n    value: listboxOptionContextValue\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Listbox\n  }, children)))) : null);\n}\nCombobox.TextField = TextField;\n\nexport { Combobox };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}