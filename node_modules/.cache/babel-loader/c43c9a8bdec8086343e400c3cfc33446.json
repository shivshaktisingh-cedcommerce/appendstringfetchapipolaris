{"ast":null,"code":"import { useContext, useRef, useCallback } from 'react';\nimport { SELECT_ALL_ITEMS, SelectionType } from './types.js';\nimport { IndexSelectionChangeContext, IndexRowContext, IndexContext } from './context.js';\nimport { useI18n } from '../i18n/hooks.js';\n\nfunction useIndexSelectionChange() {\n  const onSelectionChange = useContext(IndexSelectionChangeContext);\n\n  if (!onSelectionChange) {\n    throw new Error(`Missing IndexProvider context`);\n  }\n\n  return onSelectionChange;\n}\n\nfunction useIndexRow() {\n  const indexRow = useContext(IndexRowContext);\n\n  if (!indexRow) {\n    throw new Error(`Missing IndexProvider context`);\n  }\n\n  return indexRow;\n}\n\nfunction useIndexValue() {\n  const index = useContext(IndexContext);\n\n  if (!index) {\n    throw new Error(`Missing IndexProvider context`);\n  }\n\n  return index;\n}\n\nfunction useBulkSelectionData(_ref) {\n  let {\n    selectedItemsCount,\n    itemCount,\n    hasMoreItems,\n    resourceName: passedResourceName\n  } = _ref;\n  const i18n = useI18n();\n  const selectable = Boolean(selectedItemsCount);\n  const selectMode = selectedItemsCount === 'All' || selectedItemsCount > 0;\n  const defaultResourceName = {\n    singular: i18n.translate('Polaris.IndexProvider.defaultItemSingular'),\n    plural: i18n.translate('Polaris.IndexProvider.defaultItemPlural')\n  };\n  const resourceName = passedResourceName ? passedResourceName : defaultResourceName;\n  const paginatedSelectAllText = getPaginatedSelectAllText();\n  const bulkActionsLabel = getBulkActionsLabel();\n  const bulkActionsAccessibilityLabel = getBulkActionsAccessibilityLabel();\n  let bulkSelectState = 'indeterminate';\n\n  if (!selectedItemsCount || selectedItemsCount === 0) {\n    bulkSelectState = undefined;\n  } else if (selectedItemsCount === SELECT_ALL_ITEMS || selectedItemsCount === itemCount) {\n    bulkSelectState = true;\n  }\n\n  return {\n    paginatedSelectAllText,\n    bulkActionsLabel,\n    bulkActionsAccessibilityLabel,\n    resourceName,\n    selectMode,\n    bulkSelectState,\n    selectable\n  };\n\n  function getPaginatedSelectAllText() {\n    if (!selectable || !hasMoreItems) {\n      return;\n    }\n\n    if (selectedItemsCount === SELECT_ALL_ITEMS) {\n      return i18n.translate('Polaris.IndexProvider.allItemsSelected', {\n        itemsLength: itemCount,\n        resourceNamePlural: resourceName.plural.toLocaleLowerCase()\n      });\n    }\n  }\n\n  function getBulkActionsLabel() {\n    const selectedItemsCountLabel = selectedItemsCount === SELECT_ALL_ITEMS ? `${itemCount}+` : selectedItemsCount;\n    return i18n.translate('Polaris.IndexProvider.selected', {\n      selectedItemsCount: selectedItemsCountLabel\n    });\n  }\n\n  function getBulkActionsAccessibilityLabel() {\n    const totalItemsCount = itemCount;\n    const allSelected = selectedItemsCount === totalItemsCount;\n\n    if (totalItemsCount === 1 && allSelected) {\n      return i18n.translate('Polaris.IndexProvider.a11yCheckboxDeselectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (totalItemsCount === 1) {\n      return i18n.translate('Polaris.IndexProvider.a11yCheckboxSelectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (allSelected) {\n      return i18n.translate('Polaris.IndexProvider.a11yCheckboxDeselectAllMultiple', {\n        itemsLength: itemCount,\n        resourceNamePlural: resourceName.plural\n      });\n    } else {\n      return i18n.translate('Polaris.IndexProvider.a11yCheckboxSelectAllMultiple', {\n        itemsLength: itemCount,\n        resourceNamePlural: resourceName.plural\n      });\n    }\n  }\n}\n\nfunction useHandleBulkSelection(_ref2) {\n  let {\n    onSelectionChange = () => {}\n  } = _ref2;\n  const lastSelected = useRef(null);\n  const handleSelectionChange = useCallback((selectionType, toggleType, selection, sortOrder) => {\n    const prevSelected = lastSelected.current;\n\n    if (SelectionType.Multi && typeof sortOrder === 'number') {\n      lastSelected.current = sortOrder;\n    }\n\n    if (selectionType === SelectionType.Single || selectionType === SelectionType.Multi && (typeof prevSelected !== 'number' || typeof sortOrder !== 'number')) {\n      onSelectionChange(SelectionType.Single, toggleType, selection);\n    } else if (selectionType === SelectionType.Multi) {\n      const min = Math.min(prevSelected, sortOrder);\n      const max = Math.max(prevSelected, sortOrder);\n      onSelectionChange(selectionType, toggleType, [min, max]);\n    } else if (selectionType === SelectionType.Page || selectionType === SelectionType.All) {\n      onSelectionChange(selectionType, toggleType);\n    }\n  }, [onSelectionChange]);\n  return handleSelectionChange;\n}\n\nexport { useBulkSelectionData, useHandleBulkSelection, useIndexRow, useIndexSelectionChange, useIndexValue };","map":{"version":3,"names":["useContext","useRef","useCallback","SELECT_ALL_ITEMS","SelectionType","IndexSelectionChangeContext","IndexRowContext","IndexContext","useI18n","useIndexSelectionChange","onSelectionChange","Error","useIndexRow","indexRow","useIndexValue","index","useBulkSelectionData","selectedItemsCount","itemCount","hasMoreItems","resourceName","passedResourceName","i18n","selectable","Boolean","selectMode","defaultResourceName","singular","translate","plural","paginatedSelectAllText","getPaginatedSelectAllText","bulkActionsLabel","getBulkActionsLabel","bulkActionsAccessibilityLabel","getBulkActionsAccessibilityLabel","bulkSelectState","undefined","itemsLength","resourceNamePlural","toLocaleLowerCase","selectedItemsCountLabel","totalItemsCount","allSelected","resourceNameSingular","useHandleBulkSelection","lastSelected","handleSelectionChange","selectionType","toggleType","selection","sortOrder","prevSelected","current","Multi","Single","min","Math","max","Page","All"],"sources":["/home/cedcoss/react/After interview/polarisdashoboard/node_modules/@shopify/polaris/build/esm/utilities/index-provider/hooks.js"],"sourcesContent":["import { useContext, useRef, useCallback } from 'react';\nimport { SELECT_ALL_ITEMS, SelectionType } from './types.js';\nimport { IndexSelectionChangeContext, IndexRowContext, IndexContext } from './context.js';\nimport { useI18n } from '../i18n/hooks.js';\n\nfunction useIndexSelectionChange() {\n  const onSelectionChange = useContext(IndexSelectionChangeContext);\n\n  if (!onSelectionChange) {\n    throw new Error(`Missing IndexProvider context`);\n  }\n\n  return onSelectionChange;\n}\nfunction useIndexRow() {\n  const indexRow = useContext(IndexRowContext);\n\n  if (!indexRow) {\n    throw new Error(`Missing IndexProvider context`);\n  }\n\n  return indexRow;\n}\nfunction useIndexValue() {\n  const index = useContext(IndexContext);\n\n  if (!index) {\n    throw new Error(`Missing IndexProvider context`);\n  }\n\n  return index;\n}\nfunction useBulkSelectionData({\n  selectedItemsCount,\n  itemCount,\n  hasMoreItems,\n  resourceName: passedResourceName\n}) {\n  const i18n = useI18n();\n  const selectable = Boolean(selectedItemsCount);\n  const selectMode = selectedItemsCount === 'All' || selectedItemsCount > 0;\n  const defaultResourceName = {\n    singular: i18n.translate('Polaris.IndexProvider.defaultItemSingular'),\n    plural: i18n.translate('Polaris.IndexProvider.defaultItemPlural')\n  };\n  const resourceName = passedResourceName ? passedResourceName : defaultResourceName;\n  const paginatedSelectAllText = getPaginatedSelectAllText();\n  const bulkActionsLabel = getBulkActionsLabel();\n  const bulkActionsAccessibilityLabel = getBulkActionsAccessibilityLabel();\n  let bulkSelectState = 'indeterminate';\n\n  if (!selectedItemsCount || selectedItemsCount === 0) {\n    bulkSelectState = undefined;\n  } else if (selectedItemsCount === SELECT_ALL_ITEMS || selectedItemsCount === itemCount) {\n    bulkSelectState = true;\n  }\n\n  return {\n    paginatedSelectAllText,\n    bulkActionsLabel,\n    bulkActionsAccessibilityLabel,\n    resourceName,\n    selectMode,\n    bulkSelectState,\n    selectable\n  };\n\n  function getPaginatedSelectAllText() {\n    if (!selectable || !hasMoreItems) {\n      return;\n    }\n\n    if (selectedItemsCount === SELECT_ALL_ITEMS) {\n      return i18n.translate('Polaris.IndexProvider.allItemsSelected', {\n        itemsLength: itemCount,\n        resourceNamePlural: resourceName.plural.toLocaleLowerCase()\n      });\n    }\n  }\n\n  function getBulkActionsLabel() {\n    const selectedItemsCountLabel = selectedItemsCount === SELECT_ALL_ITEMS ? `${itemCount}+` : selectedItemsCount;\n    return i18n.translate('Polaris.IndexProvider.selected', {\n      selectedItemsCount: selectedItemsCountLabel\n    });\n  }\n\n  function getBulkActionsAccessibilityLabel() {\n    const totalItemsCount = itemCount;\n    const allSelected = selectedItemsCount === totalItemsCount;\n\n    if (totalItemsCount === 1 && allSelected) {\n      return i18n.translate('Polaris.IndexProvider.a11yCheckboxDeselectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (totalItemsCount === 1) {\n      return i18n.translate('Polaris.IndexProvider.a11yCheckboxSelectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (allSelected) {\n      return i18n.translate('Polaris.IndexProvider.a11yCheckboxDeselectAllMultiple', {\n        itemsLength: itemCount,\n        resourceNamePlural: resourceName.plural\n      });\n    } else {\n      return i18n.translate('Polaris.IndexProvider.a11yCheckboxSelectAllMultiple', {\n        itemsLength: itemCount,\n        resourceNamePlural: resourceName.plural\n      });\n    }\n  }\n}\nfunction useHandleBulkSelection({\n  onSelectionChange = () => {}\n}) {\n  const lastSelected = useRef(null);\n  const handleSelectionChange = useCallback((selectionType, toggleType, selection, sortOrder) => {\n    const prevSelected = lastSelected.current;\n\n    if (SelectionType.Multi && typeof sortOrder === 'number') {\n      lastSelected.current = sortOrder;\n    }\n\n    if (selectionType === SelectionType.Single || selectionType === SelectionType.Multi && (typeof prevSelected !== 'number' || typeof sortOrder !== 'number')) {\n      onSelectionChange(SelectionType.Single, toggleType, selection);\n    } else if (selectionType === SelectionType.Multi) {\n      const min = Math.min(prevSelected, sortOrder);\n      const max = Math.max(prevSelected, sortOrder);\n      onSelectionChange(selectionType, toggleType, [min, max]);\n    } else if (selectionType === SelectionType.Page || selectionType === SelectionType.All) {\n      onSelectionChange(selectionType, toggleType);\n    }\n  }, [onSelectionChange]);\n  return handleSelectionChange;\n}\n\nexport { useBulkSelectionData, useHandleBulkSelection, useIndexRow, useIndexSelectionChange, useIndexValue };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}