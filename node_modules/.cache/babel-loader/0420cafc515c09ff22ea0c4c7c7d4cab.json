{"ast":null,"code":"import React, { useState, useEffect, useCallback } from 'react';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { useIsAfterInitialMount } from '../../utilities/use-is-after-initial-mount.js';\nimport styles from './Avatar.scss.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Image } from '../Image/Image.js';\nvar Status;\n\n(function (Status) {\n  Status[\"Pending\"] = \"PENDING\";\n  Status[\"Loaded\"] = \"LOADED\";\n  Status[\"Errored\"] = \"ERRORED\";\n})(Status || (Status = {}));\n\nconst STYLE_CLASSES = ['one', 'two', 'three', 'four', 'five'];\n\nfunction Avatar(_ref) {\n  let {\n    name,\n    source,\n    onError,\n    initials,\n    customer,\n    size = 'medium',\n    shape = 'round',\n    accessibilityLabel\n  } = _ref;\n  const i18n = useI18n();\n  const isAfterInitialMount = useIsAfterInitialMount(); // WARNING: This approach of utilizing the first letter of the name to generate the icon styling within the Avatar component also exists in one other repository:\n  // https://github.com/Shopify/mobile/blob/main/src/foundations/polaris/components/Avatar/utilities/getStyleClassFromName.ts\n  // Please ensure they stay in sync by making changes in both places.\n\n  function styleClass(name) {\n    return name ? STYLE_CLASSES[name.charCodeAt(0) % STYLE_CLASSES.length] : STYLE_CLASSES[0];\n  }\n\n  const [status, setStatus] = useState(Status.Pending); // If the source changes, set the status back to pending\n\n  useEffect(() => {\n    setStatus(Status.Pending);\n  }, [source]);\n  const handleError = useCallback(() => {\n    setStatus(Status.Errored);\n\n    if (onError) {\n      onError();\n    }\n  }, [onError]);\n  const handleLoad = useCallback(() => {\n    setStatus(Status.Loaded);\n  }, []);\n  const hasImage = source && status !== Status.Errored;\n  const nameString = name || initials;\n  let label;\n\n  if (accessibilityLabel) {\n    label = accessibilityLabel;\n  } else if (name) {\n    label = name;\n  } else if (initials) {\n    const splitInitials = initials.split('').join(' ');\n    label = i18n.translate('Polaris.Avatar.labelWithInitials', {\n      initials: splitInitials\n    });\n  } else {\n    label = i18n.translate('Polaris.Avatar.label');\n  }\n\n  const className = classNames(styles.Avatar, size && styles[variationName('size', size)], hasImage && status === Status.Loaded && styles.imageHasLoaded, shape && styles[variationName('shape', shape)], !customer && !source && styles[variationName('style', styleClass(nameString))]);\n  const imageClassName = classNames(styles.Image, status !== Status.Loaded && styles.hidden);\n  const imageMarkUp = source && isAfterInitialMount && status !== Status.Errored ? /*#__PURE__*/React.createElement(Image, {\n    className: imageClassName,\n    source: source,\n    alt: \"\",\n    role: \"presentation\",\n    onLoad: handleLoad,\n    onError: handleError\n  }) : null; // Use `dominant-baseline: central` instead of `dy` when Edge supports it.\n\n  const verticalOffset = '0.35em';\n  const avatarBody = customer || !initials ? /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M8.28 27.5A14.95 14.95 0 0120 21.8c4.76 0 8.97 2.24 11.72 5.7a14.02 14.02 0 01-8.25 5.91 14.82 14.82 0 01-6.94 0 14.02 14.02 0 01-8.25-5.9zM13.99 12.78a6.02 6.02 0 1112.03 0 6.02 6.02 0 01-12.03 0z\"\n  }) : /*#__PURE__*/React.createElement(\"text\", {\n    x: \"50%\",\n    y: \"50%\",\n    dy: verticalOffset,\n    fill: \"currentColor\",\n    fontSize: shape === 'square' ? '15.5' : '20',\n    fontWeight: shape === 'square' ? '600' : '400',\n    textAnchor: \"middle\"\n  }, initials);\n  const svgMarkup = hasImage ? null : /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.Initials\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: styles.Svg,\n    viewBox: \"0 0 40 40\"\n  }, avatarBody));\n  return /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-label\": label,\n    role: \"img\",\n    className: className\n  }, svgMarkup, imageMarkUp);\n}\n\nexport { Avatar, STYLE_CLASSES };","map":{"version":3,"names":["React","useState","useEffect","useCallback","classNames","variationName","useIsAfterInitialMount","styles","useI18n","Image","Status","STYLE_CLASSES","Avatar","name","source","onError","initials","customer","size","shape","accessibilityLabel","i18n","isAfterInitialMount","styleClass","charCodeAt","length","status","setStatus","Pending","handleError","Errored","handleLoad","Loaded","hasImage","nameString","label","splitInitials","split","join","translate","className","imageHasLoaded","imageClassName","hidden","imageMarkUp","createElement","alt","role","onLoad","verticalOffset","avatarBody","fill","d","x","y","dy","fontSize","fontWeight","textAnchor","svgMarkup","Initials","Svg","viewBox"],"sources":["/home/cedcoss/react/After interview/polarisdashoboard/node_modules/@shopify/polaris/build/esm/components/Avatar/Avatar.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { useIsAfterInitialMount } from '../../utilities/use-is-after-initial-mount.js';\nimport styles from './Avatar.scss.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Image } from '../Image/Image.js';\n\nvar Status;\n\n(function (Status) {\n  Status[\"Pending\"] = \"PENDING\";\n  Status[\"Loaded\"] = \"LOADED\";\n  Status[\"Errored\"] = \"ERRORED\";\n})(Status || (Status = {}));\n\nconst STYLE_CLASSES = ['one', 'two', 'three', 'four', 'five'];\nfunction Avatar({\n  name,\n  source,\n  onError,\n  initials,\n  customer,\n  size = 'medium',\n  shape = 'round',\n  accessibilityLabel\n}) {\n  const i18n = useI18n();\n  const isAfterInitialMount = useIsAfterInitialMount(); // WARNING: This approach of utilizing the first letter of the name to generate the icon styling within the Avatar component also exists in one other repository:\n  // https://github.com/Shopify/mobile/blob/main/src/foundations/polaris/components/Avatar/utilities/getStyleClassFromName.ts\n  // Please ensure they stay in sync by making changes in both places.\n\n  function styleClass(name) {\n    return name ? STYLE_CLASSES[name.charCodeAt(0) % STYLE_CLASSES.length] : STYLE_CLASSES[0];\n  }\n\n  const [status, setStatus] = useState(Status.Pending); // If the source changes, set the status back to pending\n\n  useEffect(() => {\n    setStatus(Status.Pending);\n  }, [source]);\n  const handleError = useCallback(() => {\n    setStatus(Status.Errored);\n\n    if (onError) {\n      onError();\n    }\n  }, [onError]);\n  const handleLoad = useCallback(() => {\n    setStatus(Status.Loaded);\n  }, []);\n  const hasImage = source && status !== Status.Errored;\n  const nameString = name || initials;\n  let label;\n\n  if (accessibilityLabel) {\n    label = accessibilityLabel;\n  } else if (name) {\n    label = name;\n  } else if (initials) {\n    const splitInitials = initials.split('').join(' ');\n    label = i18n.translate('Polaris.Avatar.labelWithInitials', {\n      initials: splitInitials\n    });\n  } else {\n    label = i18n.translate('Polaris.Avatar.label');\n  }\n\n  const className = classNames(styles.Avatar, size && styles[variationName('size', size)], hasImage && status === Status.Loaded && styles.imageHasLoaded, shape && styles[variationName('shape', shape)], !customer && !source && styles[variationName('style', styleClass(nameString))]);\n  const imageClassName = classNames(styles.Image, status !== Status.Loaded && styles.hidden);\n  const imageMarkUp = source && isAfterInitialMount && status !== Status.Errored ? /*#__PURE__*/React.createElement(Image, {\n    className: imageClassName,\n    source: source,\n    alt: \"\",\n    role: \"presentation\",\n    onLoad: handleLoad,\n    onError: handleError\n  }) : null; // Use `dominant-baseline: central` instead of `dy` when Edge supports it.\n\n  const verticalOffset = '0.35em';\n  const avatarBody = customer || !initials ? /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M8.28 27.5A14.95 14.95 0 0120 21.8c4.76 0 8.97 2.24 11.72 5.7a14.02 14.02 0 01-8.25 5.91 14.82 14.82 0 01-6.94 0 14.02 14.02 0 01-8.25-5.9zM13.99 12.78a6.02 6.02 0 1112.03 0 6.02 6.02 0 01-12.03 0z\"\n  }) : /*#__PURE__*/React.createElement(\"text\", {\n    x: \"50%\",\n    y: \"50%\",\n    dy: verticalOffset,\n    fill: \"currentColor\",\n    fontSize: shape === 'square' ? '15.5' : '20',\n    fontWeight: shape === 'square' ? '600' : '400',\n    textAnchor: \"middle\"\n  }, initials);\n  const svgMarkup = hasImage ? null : /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.Initials\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: styles.Svg,\n    viewBox: \"0 0 40 40\"\n  }, avatarBody));\n  return /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-label\": label,\n    role: \"img\",\n    className: className\n  }, svgMarkup, imageMarkUp);\n}\n\nexport { Avatar, STYLE_CLASSES };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}