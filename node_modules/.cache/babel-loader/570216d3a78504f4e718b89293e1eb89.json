{"ast":null,"code":"import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { findFirstFocusableNode } from '../../utilities/focus.js';\nimport { useToggle } from '../../utilities/use-toggle.js';\nimport { Key } from '../../types.js';\nimport { TooltipOverlay } from './components/TooltipOverlay/TooltipOverlay.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { Portal } from '../Portal/Portal.js';\n\nfunction Tooltip(_ref) {\n  let {\n    children,\n    content,\n    dismissOnMouseOut,\n    active: originalActive,\n    preferredPosition = 'below',\n    activatorWrapper = 'span',\n    accessibilityLabel\n  } = _ref;\n  const WrapperComponent = activatorWrapper;\n  const {\n    value: active,\n    setTrue: handleFocus,\n    setFalse: handleBlur\n  } = useToggle(Boolean(originalActive));\n  const [activatorNode, setActivatorNode] = useState(null);\n  const id = useUniqueId('TooltipContent');\n  const activatorContainer = useRef(null);\n  const mouseEntered = useRef(false);\n  useEffect(() => {\n    const firstFocusable = activatorContainer.current ? findFirstFocusableNode(activatorContainer.current) : null;\n    const accessibilityNode = firstFocusable || activatorContainer.current;\n    if (!accessibilityNode) return;\n    accessibilityNode.tabIndex = 0;\n    accessibilityNode.setAttribute('aria-describedby', id);\n    accessibilityNode.setAttribute('data-polaris-tooltip-activator', 'true');\n  }, [id, children]);\n  const handleKeyUp = useCallback(event => {\n    if (event.keyCode !== Key.Escape) return;\n    handleBlur();\n  }, [handleBlur]);\n  const portal = activatorNode ? /*#__PURE__*/React.createElement(Portal, {\n    idPrefix: \"tooltip\"\n  }, /*#__PURE__*/React.createElement(TooltipOverlay, {\n    id: id,\n    preferredPosition: preferredPosition,\n    activator: activatorNode,\n    active: active,\n    accessibilityLabel: accessibilityLabel,\n    onClose: noop,\n    preventInteraction: dismissOnMouseOut\n  }, content)) : null;\n  return /*#__PURE__*/React.createElement(WrapperComponent, {\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onMouseLeave: handleMouseLeave,\n    onMouseOver: handleMouseEnterFix,\n    ref: setActivator,\n    onKeyUp: handleKeyUp\n  }, children, portal);\n\n  function setActivator(node) {\n    const activatorContainerRef = activatorContainer;\n\n    if (node == null) {\n      activatorContainerRef.current = null;\n      setActivatorNode(null);\n      return;\n    }\n\n    node.firstElementChild instanceof HTMLElement && setActivatorNode(node.firstElementChild);\n    activatorContainerRef.current = node;\n  }\n\n  function handleMouseEnter() {\n    mouseEntered.current = true;\n    handleFocus();\n  }\n\n  function handleMouseLeave() {\n    mouseEntered.current = false;\n    handleBlur();\n  } // https://github.com/facebook/react/issues/10109\n  // Mouseenter event not triggered when cursor moves from disabled button\n\n\n  function handleMouseEnterFix() {\n    !mouseEntered.current && handleMouseEnter();\n  }\n}\n\nfunction noop() {}\n\nexport { Tooltip };","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","findFirstFocusableNode","useToggle","Key","TooltipOverlay","useUniqueId","Portal","Tooltip","children","content","dismissOnMouseOut","active","originalActive","preferredPosition","activatorWrapper","accessibilityLabel","WrapperComponent","value","setTrue","handleFocus","setFalse","handleBlur","Boolean","activatorNode","setActivatorNode","id","activatorContainer","mouseEntered","firstFocusable","current","accessibilityNode","tabIndex","setAttribute","handleKeyUp","event","keyCode","Escape","portal","createElement","idPrefix","activator","onClose","noop","preventInteraction","onFocus","onBlur","onMouseLeave","handleMouseLeave","onMouseOver","handleMouseEnterFix","ref","setActivator","onKeyUp","node","activatorContainerRef","firstElementChild","HTMLElement","handleMouseEnter"],"sources":["/home/cedcoss/react/After interview/polarisdashoboard/node_modules/@shopify/polaris/build/esm/components/Tooltip/Tooltip.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { findFirstFocusableNode } from '../../utilities/focus.js';\nimport { useToggle } from '../../utilities/use-toggle.js';\nimport { Key } from '../../types.js';\nimport { TooltipOverlay } from './components/TooltipOverlay/TooltipOverlay.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { Portal } from '../Portal/Portal.js';\n\nfunction Tooltip({\n  children,\n  content,\n  dismissOnMouseOut,\n  active: originalActive,\n  preferredPosition = 'below',\n  activatorWrapper = 'span',\n  accessibilityLabel\n}) {\n  const WrapperComponent = activatorWrapper;\n  const {\n    value: active,\n    setTrue: handleFocus,\n    setFalse: handleBlur\n  } = useToggle(Boolean(originalActive));\n  const [activatorNode, setActivatorNode] = useState(null);\n  const id = useUniqueId('TooltipContent');\n  const activatorContainer = useRef(null);\n  const mouseEntered = useRef(false);\n  useEffect(() => {\n    const firstFocusable = activatorContainer.current ? findFirstFocusableNode(activatorContainer.current) : null;\n    const accessibilityNode = firstFocusable || activatorContainer.current;\n    if (!accessibilityNode) return;\n    accessibilityNode.tabIndex = 0;\n    accessibilityNode.setAttribute('aria-describedby', id);\n    accessibilityNode.setAttribute('data-polaris-tooltip-activator', 'true');\n  }, [id, children]);\n  const handleKeyUp = useCallback(event => {\n    if (event.keyCode !== Key.Escape) return;\n    handleBlur();\n  }, [handleBlur]);\n  const portal = activatorNode ? /*#__PURE__*/React.createElement(Portal, {\n    idPrefix: \"tooltip\"\n  }, /*#__PURE__*/React.createElement(TooltipOverlay, {\n    id: id,\n    preferredPosition: preferredPosition,\n    activator: activatorNode,\n    active: active,\n    accessibilityLabel: accessibilityLabel,\n    onClose: noop,\n    preventInteraction: dismissOnMouseOut\n  }, content)) : null;\n  return /*#__PURE__*/React.createElement(WrapperComponent, {\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onMouseLeave: handleMouseLeave,\n    onMouseOver: handleMouseEnterFix,\n    ref: setActivator,\n    onKeyUp: handleKeyUp\n  }, children, portal);\n\n  function setActivator(node) {\n    const activatorContainerRef = activatorContainer;\n\n    if (node == null) {\n      activatorContainerRef.current = null;\n      setActivatorNode(null);\n      return;\n    }\n\n    node.firstElementChild instanceof HTMLElement && setActivatorNode(node.firstElementChild);\n    activatorContainerRef.current = node;\n  }\n\n  function handleMouseEnter() {\n    mouseEntered.current = true;\n    handleFocus();\n  }\n\n  function handleMouseLeave() {\n    mouseEntered.current = false;\n    handleBlur();\n  } // https://github.com/facebook/react/issues/10109\n  // Mouseenter event not triggered when cursor moves from disabled button\n\n\n  function handleMouseEnterFix() {\n    !mouseEntered.current && handleMouseEnter();\n  }\n}\n\nfunction noop() {}\n\nexport { Tooltip };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}