{"ast":null,"code":"import React, { PureComponent } from 'react';\nimport { debounce } from '../../utilities/debounce.js';\nimport { clamp } from '../../utilities/clamp.js';\nimport { classNames } from '../../utilities/css.js';\nimport { hsbToRgb } from '../../utilities/color-transformers.js';\nimport styles from './ColorPicker.scss.js';\nimport { AlphaPicker } from './components/AlphaPicker/AlphaPicker.js';\nimport { HuePicker } from './components/HuePicker/HuePicker.js';\nimport { Slidable } from './components/Slidable/Slidable.js';\nimport { EventListener } from '../EventListener/EventListener.js';\nconst RESIZE_DEBOUNCE_TIME_MS = 200;\n\nclass ColorPicker extends PureComponent {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      pickerSize: {\n        width: 0,\n        height: 0\n      }\n    };\n    this.colorNode = null;\n    this.handleResize = debounce(() => {\n      const {\n        colorNode\n      } = this;\n\n      if (colorNode == null) {\n        return;\n      }\n\n      this.setState({\n        pickerSize: {\n          width: colorNode.clientWidth,\n          height: colorNode.clientHeight\n        }\n      });\n    }, RESIZE_DEBOUNCE_TIME_MS, {\n      leading: true,\n      trailing: true,\n      maxWait: RESIZE_DEBOUNCE_TIME_MS\n    });\n\n    this.setColorNode = node => {\n      this.colorNode = node;\n    };\n\n    this.handleHueChange = hue => {\n      const {\n        color: {\n          brightness,\n          saturation,\n          alpha = 1\n        },\n        onChange\n      } = this.props;\n      onChange({\n        hue,\n        brightness,\n        saturation,\n        alpha\n      });\n    };\n\n    this.handleAlphaChange = alpha => {\n      const {\n        color: {\n          hue,\n          brightness,\n          saturation\n        },\n        onChange\n      } = this.props;\n      onChange({\n        hue,\n        brightness,\n        saturation,\n        alpha\n      });\n    };\n\n    this.handleDraggerMove = _ref => {\n      let {\n        x,\n        y\n      } = _ref;\n      const {\n        pickerSize\n      } = this.state;\n      const {\n        color: {\n          hue,\n          alpha = 1\n        },\n        onChange\n      } = this.props;\n      const saturation = clamp(x / pickerSize.width, 0, 1);\n      const brightness = clamp(1 - y / pickerSize.height, 0, 1);\n      onChange({\n        hue,\n        saturation,\n        brightness,\n        alpha\n      });\n    };\n\n    this.handlePickerDrag = event => {\n      // prevents external elements from being selected\n      event.preventDefault();\n    };\n  }\n\n  componentDidMount() {\n    const {\n      colorNode\n    } = this;\n\n    if (colorNode == null) {\n      return;\n    }\n\n    this.setState({\n      pickerSize: {\n        width: colorNode.clientWidth,\n        height: colorNode.clientHeight\n      }\n    });\n\n    if (process.env.NODE_ENV === 'development') {\n      setTimeout(() => {\n        this.setState({\n          pickerSize: {\n            width: colorNode.clientWidth,\n            height: colorNode.clientHeight\n          }\n        });\n      }, 0);\n    }\n  }\n\n  render() {\n    const {\n      id,\n      color,\n      allowAlpha,\n      fullWidth\n    } = this.props;\n    const {\n      hue,\n      saturation,\n      brightness,\n      alpha: providedAlpha\n    } = color;\n    const {\n      pickerSize\n    } = this.state;\n    const alpha = providedAlpha != null && allowAlpha ? providedAlpha : 1;\n    const {\n      red,\n      green,\n      blue\n    } = hsbToRgb({\n      hue,\n      saturation: 1,\n      brightness: 1\n    });\n    const colorString = `rgba(${red}, ${green}, ${blue}, ${alpha})`;\n    const draggerX = clamp(saturation * pickerSize.width, 0, pickerSize.width);\n    const draggerY = clamp(pickerSize.height - brightness * pickerSize.height, 0, pickerSize.height);\n    const alphaSliderMarkup = allowAlpha ? /*#__PURE__*/React.createElement(AlphaPicker, {\n      alpha: alpha,\n      color: color,\n      onChange: this.handleAlphaChange\n    }) : null;\n    const className = classNames(styles.ColorPicker, fullWidth && styles.fullWidth);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      id: id,\n      onMouseDown: this.handlePickerDrag\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.setColorNode,\n      className: styles.MainColor\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.ColorLayer,\n      style: {\n        backgroundColor: colorString\n      }\n    }), /*#__PURE__*/React.createElement(Slidable, {\n      onChange: this.handleDraggerMove,\n      draggerX: draggerX,\n      draggerY: draggerY\n    })), /*#__PURE__*/React.createElement(HuePicker, {\n      hue: hue,\n      onChange: this.handleHueChange\n    }), alphaSliderMarkup, /*#__PURE__*/React.createElement(EventListener, {\n      event: \"resize\",\n      handler: this.handleResize\n    }));\n  }\n\n}\n\nexport { ColorPicker };","map":{"version":3,"names":["React","PureComponent","debounce","clamp","classNames","hsbToRgb","styles","AlphaPicker","HuePicker","Slidable","EventListener","RESIZE_DEBOUNCE_TIME_MS","ColorPicker","constructor","state","pickerSize","width","height","colorNode","handleResize","setState","clientWidth","clientHeight","leading","trailing","maxWait","setColorNode","node","handleHueChange","hue","color","brightness","saturation","alpha","onChange","props","handleAlphaChange","handleDraggerMove","x","y","handlePickerDrag","event","preventDefault","componentDidMount","process","env","NODE_ENV","setTimeout","render","id","allowAlpha","fullWidth","providedAlpha","red","green","blue","colorString","draggerX","draggerY","alphaSliderMarkup","createElement","className","onMouseDown","ref","MainColor","ColorLayer","style","backgroundColor","handler"],"sources":["/home/cedcoss/react/After interview/polarisdashoboard/node_modules/@shopify/polaris/build/esm/components/ColorPicker/ColorPicker.js"],"sourcesContent":["import React, { PureComponent } from 'react';\nimport { debounce } from '../../utilities/debounce.js';\nimport { clamp } from '../../utilities/clamp.js';\nimport { classNames } from '../../utilities/css.js';\nimport { hsbToRgb } from '../../utilities/color-transformers.js';\nimport styles from './ColorPicker.scss.js';\nimport { AlphaPicker } from './components/AlphaPicker/AlphaPicker.js';\nimport { HuePicker } from './components/HuePicker/HuePicker.js';\nimport { Slidable } from './components/Slidable/Slidable.js';\nimport { EventListener } from '../EventListener/EventListener.js';\n\nconst RESIZE_DEBOUNCE_TIME_MS = 200;\nclass ColorPicker extends PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      pickerSize: {\n        width: 0,\n        height: 0\n      }\n    };\n    this.colorNode = null;\n    this.handleResize = debounce(() => {\n      const {\n        colorNode\n      } = this;\n\n      if (colorNode == null) {\n        return;\n      }\n\n      this.setState({\n        pickerSize: {\n          width: colorNode.clientWidth,\n          height: colorNode.clientHeight\n        }\n      });\n    }, RESIZE_DEBOUNCE_TIME_MS, {\n      leading: true,\n      trailing: true,\n      maxWait: RESIZE_DEBOUNCE_TIME_MS\n    });\n\n    this.setColorNode = node => {\n      this.colorNode = node;\n    };\n\n    this.handleHueChange = hue => {\n      const {\n        color: {\n          brightness,\n          saturation,\n          alpha = 1\n        },\n        onChange\n      } = this.props;\n      onChange({\n        hue,\n        brightness,\n        saturation,\n        alpha\n      });\n    };\n\n    this.handleAlphaChange = alpha => {\n      const {\n        color: {\n          hue,\n          brightness,\n          saturation\n        },\n        onChange\n      } = this.props;\n      onChange({\n        hue,\n        brightness,\n        saturation,\n        alpha\n      });\n    };\n\n    this.handleDraggerMove = ({\n      x,\n      y\n    }) => {\n      const {\n        pickerSize\n      } = this.state;\n      const {\n        color: {\n          hue,\n          alpha = 1\n        },\n        onChange\n      } = this.props;\n      const saturation = clamp(x / pickerSize.width, 0, 1);\n      const brightness = clamp(1 - y / pickerSize.height, 0, 1);\n      onChange({\n        hue,\n        saturation,\n        brightness,\n        alpha\n      });\n    };\n\n    this.handlePickerDrag = event => {\n      // prevents external elements from being selected\n      event.preventDefault();\n    };\n  }\n\n  componentDidMount() {\n    const {\n      colorNode\n    } = this;\n\n    if (colorNode == null) {\n      return;\n    }\n\n    this.setState({\n      pickerSize: {\n        width: colorNode.clientWidth,\n        height: colorNode.clientHeight\n      }\n    });\n\n    if (process.env.NODE_ENV === 'development') {\n      setTimeout(() => {\n        this.setState({\n          pickerSize: {\n            width: colorNode.clientWidth,\n            height: colorNode.clientHeight\n          }\n        });\n      }, 0);\n    }\n  }\n\n  render() {\n    const {\n      id,\n      color,\n      allowAlpha,\n      fullWidth\n    } = this.props;\n    const {\n      hue,\n      saturation,\n      brightness,\n      alpha: providedAlpha\n    } = color;\n    const {\n      pickerSize\n    } = this.state;\n    const alpha = providedAlpha != null && allowAlpha ? providedAlpha : 1;\n    const {\n      red,\n      green,\n      blue\n    } = hsbToRgb({\n      hue,\n      saturation: 1,\n      brightness: 1\n    });\n    const colorString = `rgba(${red}, ${green}, ${blue}, ${alpha})`;\n    const draggerX = clamp(saturation * pickerSize.width, 0, pickerSize.width);\n    const draggerY = clamp(pickerSize.height - brightness * pickerSize.height, 0, pickerSize.height);\n    const alphaSliderMarkup = allowAlpha ? /*#__PURE__*/React.createElement(AlphaPicker, {\n      alpha: alpha,\n      color: color,\n      onChange: this.handleAlphaChange\n    }) : null;\n    const className = classNames(styles.ColorPicker, fullWidth && styles.fullWidth);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      id: id,\n      onMouseDown: this.handlePickerDrag\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.setColorNode,\n      className: styles.MainColor\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.ColorLayer,\n      style: {\n        backgroundColor: colorString\n      }\n    }), /*#__PURE__*/React.createElement(Slidable, {\n      onChange: this.handleDraggerMove,\n      draggerX: draggerX,\n      draggerY: draggerY\n    })), /*#__PURE__*/React.createElement(HuePicker, {\n      hue: hue,\n      onChange: this.handleHueChange\n    }), alphaSliderMarkup, /*#__PURE__*/React.createElement(EventListener, {\n      event: \"resize\",\n      handler: this.handleResize\n    }));\n  }\n\n}\n\nexport { ColorPicker };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}